/*!
 * @license twgl.js 4.8.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.twgl=e():t.twgl=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"add",function(){return s}),n.d(r,"copy",function(){return w}),n.d(r,"create",function(){return f}),n.d(r,"cross",function(){return b}),n.d(r,"distance",function(){return F}),n.d(r,"distanceSq",function(){return A}),n.d(r,"divide",function(){return P}),n.d(r,"divScalar",function(){return m}),n.d(r,"dot",function(){return d}),n.d(r,"lerp",function(){return l}),n.d(r,"length",function(){return p}),n.d(r,"lengthSq",function(){return x}),n.d(r,"mulScalar",function(){return y}),n.d(r,"multiply",function(){return T}),n.d(r,"negate",function(){return E}),n.d(r,"normalize",function(){return h}),n.d(r,"setDefaultType",function(){return c}),n.d(r,"subtract",function(){return a});var o={};n.r(o),n.d(o,"axisRotate",function(){return J}),n.d(o,"axisRotation",function(){return K}),n.d(o,"copy",function(){return M}),n.d(o,"frustum",function(){return G}),n.d(o,"getAxis",function(){return k}),n.d(o,"getTranslation",function(){return j}),n.d(o,"identity",function(){return S}),n.d(o,"inverse",function(){return B}),n.d(o,"lookAt",function(){return X}),n.d(o,"multiply",function(){return I}),n.d(o,"negate",function(){return C}),n.d(o,"ortho",function(){return V}),n.d(o,"perspective",function(){return L}),n.d(o,"rotateX",function(){return q}),n.d(o,"rotateY",function(){return Q}),n.d(o,"rotateZ",function(){return $}),n.d(o,"rotationX",function(){return Y}),n.d(o,"rotationY",function(){return H}),n.d(o,"rotationZ",function(){return Z}),n.d(o,"scale",function(){return et}),n.d(o,"scaling",function(){return tt}),n.d(o,"setAxis",function(){return D}),n.d(o,"setDefaultType",function(){return z}),n.d(o,"setTranslation",function(){return O}),n.d(o,"transformDirection",function(){return rt}),n.d(o,"transformNormal",function(){return ot}),n.d(o,"transformPoint",function(){return nt}),n.d(o,"translate",function(){return W}),n.d(o,"translation",function(){return N}),n.d(o,"transpose",function(){return U});var u={};n.r(u),n.d(u,"create3DFBufferInfo",function(){return _e}),n.d(u,"create3DFBuffers",function(){return ge}),n.d(u,"create3DFVertices",function(){return ye}),n.d(u,"createAugmentedTypedArray",function(){return Qt}),n.d(u,"createCubeBufferInfo",function(){return ve}),n.d(u,"createCubeBuffers",function(){return Re}),n.d(u,"createCubeVertices",function(){return se}),n.d(u,"createPlaneBufferInfo",function(){return ze}),n.d(u,"createPlaneBuffers",function(){return Ce}),n.d(u,"createPlaneVertices",function(){return ie}),n.d(u,"createSphereBufferInfo",function(){return Me}),n.d(u,"createSphereBuffers",function(){return Se}),n.d(u,"createSphereVertices",function(){return ce}),n.d(u,"createTruncatedConeBufferInfo",function(){return Ue}),n.d(u,"createTruncatedConeBuffers",function(){return Be}),n.d(u,"createTruncatedConeVertices",function(){return ae}),n.d(u,"createXYQuadBufferInfo",function(){return Ie}),n.d(u,"createXYQuadBuffers",function(){return Oe}),n.d(u,"createXYQuadVertices",function(){return ue}),n.d(u,"createCresentBufferInfo",function(){return je}),n.d(u,"createCresentBuffers",function(){return ke}),n.d(u,"createCresentVertices",function(){return me}),n.d(u,"createCylinderBufferInfo",function(){return De}),n.d(u,"createCylinderBuffers",function(){return Le}),n.d(u,"createCylinderVertices",function(){return be}),n.d(u,"createTorusBufferInfo",function(){return Ve}),n.d(u,"createTorusBuffers",function(){return Ge}),n.d(u,"createTorusVertices",function(){return de}),n.d(u,"createDiscBufferInfo",function(){return Xe}),n.d(u,"createDiscBuffers",function(){return Ne}),n.d(u,"createDiscVertices",function(){return pe}),n.d(u,"deindexVertices",function(){return $t}),n.d(u,"flattenNormals",function(){return Kt}),n.d(u,"makeRandomVertexColors",function(){return xe}),n.d(u,"reorientDirections",function(){return ee}),n.d(u,"reorientNormals",function(){return ne}),n.d(u,"reorientPositions",function(){return re}),n.d(u,"reorientVertices",function(){return oe}),n.d(u,"concatVertices",function(){return Te}),n.d(u,"duplicateVertices",function(){return Pe});let i=Float32Array;function c(t){const e=i;return i=t,e}function f(t,e,n){const r=new i(3);return t&&(r[0]=t),e&&(r[1]=e),n&&(r[2]=n),r}function s(t,e,n){return(n=n||new i(3))[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function a(t,e,n){return(n=n||new i(3))[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function l(t,e,n,r){return(r=r||new i(3))[0]=(1-n)*t[0]+n*e[0],r[1]=(1-n)*t[1]+n*e[1],r[2]=(1-n)*t[2]+n*e[2],r}function y(t,e,n){return(n=n||new i(3))[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n}function m(t,e,n){return(n=n||new i(3))[0]=t[0]/e,n[1]=t[1]/e,n[2]=t[2]/e,n}function b(t,e,n){n=n||new i(3);const r=t[2]*e[0]-t[0]*e[2],o=t[0]*e[1]-t[1]*e[0];return n[0]=t[1]*e[2]-t[2]*e[1],n[1]=r,n[2]=o,n}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function p(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function x(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function F(t,e){const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}function A(t,e){const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}function h(t,e){e=e||new i(3);const n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=Math.sqrt(n);return r>1e-5?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=0,e[1]=0,e[2]=0),e}function E(t,e){return(e=e||new i(3))[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function w(t,e){return(e=e||new i(3))[0]=t[0],e[1]=t[1],e[2]=t[2],e}function T(t,e,n){return(n=n||new i(3))[0]=t[0]*e[0],n[1]=t[1]*e[1],n[2]=t[2]*e[2],n}function P(t,e,n){return(n=n||new i(3))[0]=t[0]/e[0],n[1]=t[1]/e[1],n[2]=t[2]/e[2],n}let _=Float32Array;const g=f(),v=f(),R=f();function z(t){const e=_;return _=t,e}function C(t,e){return(e=e||new _(16))[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=-t[7],e[8]=-t[8],e[9]=-t[9],e[10]=-t[10],e[11]=-t[11],e[12]=-t[12],e[13]=-t[13],e[14]=-t[14],e[15]=-t[15],e}function M(t,e){return(e=e||new _(16))[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function S(t){return(t=t||new _(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,e){if((e=e||new _(16))===t){let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,e}const n=t[0],r=t[1],o=t[2],u=t[3],i=t[4],c=t[5],f=t[6],s=t[7],a=t[8],l=t[9],y=t[10],m=t[11],b=t[12],d=t[13],p=t[14],x=t[15];return e[0]=n,e[1]=i,e[2]=a,e[3]=b,e[4]=r,e[5]=c,e[6]=l,e[7]=d,e[8]=o,e[9]=f,e[10]=y,e[11]=p,e[12]=u,e[13]=s,e[14]=m,e[15]=x,e}function B(t,e){e=e||new _(16);const n=t[0],r=t[1],o=t[2],u=t[3],i=t[4],c=t[5],f=t[6],s=t[7],a=t[8],l=t[9],y=t[10],m=t[11],b=t[12],d=t[13],p=t[14],x=t[15],F=y*x,A=p*m,h=f*x,E=p*s,w=f*m,T=y*s,P=o*x,g=p*u,v=o*m,R=y*u,z=o*s,C=f*u,M=a*d,S=b*l,U=i*d,B=b*c,I=i*l,O=a*c,j=n*d,k=b*r,D=n*l,L=a*r,V=n*c,G=i*r,X=F*c+E*l+w*d-(A*c+h*l+T*d),N=A*r+P*l+R*d-(F*r+g*l+v*d),W=h*r+g*c+z*d-(E*r+P*c+C*d),Y=T*r+v*c+C*l-(w*r+R*c+z*l),q=1/(n*X+i*N+a*W+b*Y);return e[0]=q*X,e[1]=q*N,e[2]=q*W,e[3]=q*Y,e[4]=q*(A*i+h*a+T*b-(F*i+E*a+w*b)),e[5]=q*(F*n+g*a+v*b-(A*n+P*a+R*b)),e[6]=q*(E*n+P*i+C*b-(h*n+g*i+z*b)),e[7]=q*(w*n+R*i+z*a-(T*n+v*i+C*a)),e[8]=q*(M*s+B*m+I*x-(S*s+U*m+O*x)),e[9]=q*(S*u+j*m+L*x-(M*u+k*m+D*x)),e[10]=q*(U*u+k*s+V*x-(B*u+j*s+G*x)),e[11]=q*(O*u+D*s+G*m-(I*u+L*s+V*m)),e[12]=q*(U*y+O*p+S*f-(I*p+M*f+B*y)),e[13]=q*(D*p+M*o+k*y-(j*y+L*p+S*o)),e[14]=q*(j*f+G*p+B*o-(V*p+U*o+k*f)),e[15]=q*(V*y+I*o+L*f-(D*f+G*y+O*o)),e}function I(t,e,n){n=n||new _(16);const r=t[0],o=t[1],u=t[2],i=t[3],c=t[4],f=t[5],s=t[6],a=t[7],l=t[8],y=t[9],m=t[10],b=t[11],d=t[12],p=t[13],x=t[14],F=t[15],A=e[0],h=e[1],E=e[2],w=e[3],T=e[4],P=e[5],g=e[6],v=e[7],R=e[8],z=e[9],C=e[10],M=e[11],S=e[12],U=e[13],B=e[14],I=e[15];return n[0]=r*A+c*h+l*E+d*w,n[1]=o*A+f*h+y*E+p*w,n[2]=u*A+s*h+m*E+x*w,n[3]=i*A+a*h+b*E+F*w,n[4]=r*T+c*P+l*g+d*v,n[5]=o*T+f*P+y*g+p*v,n[6]=u*T+s*P+m*g+x*v,n[7]=i*T+a*P+b*g+F*v,n[8]=r*R+c*z+l*C+d*M,n[9]=o*R+f*z+y*C+p*M,n[10]=u*R+s*z+m*C+x*M,n[11]=i*R+a*z+b*C+F*M,n[12]=r*S+c*U+l*B+d*I,n[13]=o*S+f*U+y*B+p*I,n[14]=u*S+s*U+m*B+x*I,n[15]=i*S+a*U+b*B+F*I,n}function O(t,e,n){return t!==(n=n||S())&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11]),n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n}function j(t,e){return(e=e||f())[0]=t[12],e[1]=t[13],e[2]=t[14],e}function k(t,e,n){const r=4*e;return(n=n||f())[0]=t[r+0],n[1]=t[r+1],n[2]=t[r+2],n}function D(t,e,n,r){r!==t&&(r=M(t,r));const o=4*n;return r[o+0]=e[0],r[o+1]=e[1],r[o+2]=e[2],r}function L(t,e,n,r,o){o=o||new _(16);const u=Math.tan(.5*Math.PI-.5*t),i=1/(n-r);return o[0]=u/e,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(n+r)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=n*r*i*2,o[15]=0,o}function V(t,e,n,r,o,u,i){return(i=i||new _(16))[0]=2/(e-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(r-n),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(o-u),i[11]=0,i[12]=(e+t)/(t-e),i[13]=(r+n)/(n-r),i[14]=(u+o)/(o-u),i[15]=1,i}function G(t,e,n,r,o,u,i){const c=e-t,f=r-n,s=o-u;return(i=i||new _(16))[0]=2*o/c,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*o/f,i[6]=0,i[7]=0,i[8]=(t+e)/c,i[9]=(r+n)/f,i[10]=u/s,i[11]=-1,i[12]=0,i[13]=0,i[14]=o*u/s,i[15]=0,i}function X(t,e,n,r){r=r||new _(16);const o=g,u=v,i=R;return h(a(t,e,i),i),h(b(n,i,o),o),h(b(i,o,u),u),r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=0,r[4]=u[0],r[5]=u[1],r[6]=u[2],r[7]=0,r[8]=i[0],r[9]=i[1],r[10]=i[2],r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function N(t,e){return(e=e||new _(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function W(t,e,n){n=n||new _(16);const r=e[0],o=e[1],u=e[2],i=t[0],c=t[1],f=t[2],s=t[3],a=t[4],l=t[5],y=t[6],m=t[7],b=t[8],d=t[9],p=t[10],x=t[11],F=t[12],A=t[13],h=t[14],E=t[15];return t!==n&&(n[0]=i,n[1]=c,n[2]=f,n[3]=s,n[4]=a,n[5]=l,n[6]=y,n[7]=m,n[8]=b,n[9]=d,n[10]=p,n[11]=x),n[12]=i*r+a*o+b*u+F,n[13]=c*r+l*o+d*u+A,n[14]=f*r+y*o+p*u+h,n[15]=s*r+m*o+x*u+E,n}function Y(t,e){e=e||new _(16);const n=Math.cos(t),r=Math.sin(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function q(t,e,n){n=n||new _(16);const r=t[4],o=t[5],u=t[6],i=t[7],c=t[8],f=t[9],s=t[10],a=t[11],l=Math.cos(e),y=Math.sin(e);return n[4]=l*r+y*c,n[5]=l*o+y*f,n[6]=l*u+y*s,n[7]=l*i+y*a,n[8]=l*c-y*r,n[9]=l*f-y*o,n[10]=l*s-y*u,n[11]=l*a-y*i,t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function H(t,e){e=e||new _(16);const n=Math.cos(t),r=Math.sin(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Q(t,e,n){n=n||new _(16);const r=t[0],o=t[1],u=t[2],i=t[3],c=t[8],f=t[9],s=t[10],a=t[11],l=Math.cos(e),y=Math.sin(e);return n[0]=l*r-y*c,n[1]=l*o-y*f,n[2]=l*u-y*s,n[3]=l*i-y*a,n[8]=l*c+y*r,n[9]=l*f+y*o,n[10]=l*s+y*u,n[11]=l*a+y*i,t!==n&&(n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function Z(t,e){e=e||new _(16);const n=Math.cos(t),r=Math.sin(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $(t,e,n){n=n||new _(16);const r=t[0],o=t[1],u=t[2],i=t[3],c=t[4],f=t[5],s=t[6],a=t[7],l=Math.cos(e),y=Math.sin(e);return n[0]=l*r+y*c,n[1]=l*o+y*f,n[2]=l*u+y*s,n[3]=l*i+y*a,n[4]=l*c-y*r,n[5]=l*f-y*o,n[6]=l*s-y*u,n[7]=l*a-y*i,t!==n&&(n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function K(t,e,n){n=n||new _(16);let r=t[0],o=t[1],u=t[2];const i=Math.sqrt(r*r+o*o+u*u),c=(r/=i)*r,f=(o/=i)*o,s=(u/=i)*u,a=Math.cos(e),l=Math.sin(e),y=1-a;return n[0]=c+(1-c)*a,n[1]=r*o*y+u*l,n[2]=r*u*y-o*l,n[3]=0,n[4]=r*o*y-u*l,n[5]=f+(1-f)*a,n[6]=o*u*y+r*l,n[7]=0,n[8]=r*u*y+o*l,n[9]=o*u*y-r*l,n[10]=s+(1-s)*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function J(t,e,n,r){r=r||new _(16);let o=e[0],u=e[1],i=e[2];const c=Math.sqrt(o*o+u*u+i*i),f=(o/=c)*o,s=(u/=c)*u,a=(i/=c)*i,l=Math.cos(n),y=Math.sin(n),m=1-l,b=f+(1-f)*l,d=o*u*m+i*y,p=o*i*m-u*y,x=o*u*m-i*y,F=s+(1-s)*l,A=u*i*m+o*y,h=o*i*m+u*y,E=u*i*m-o*y,w=a+(1-a)*l,T=t[0],P=t[1],g=t[2],v=t[3],R=t[4],z=t[5],C=t[6],M=t[7],S=t[8],U=t[9],B=t[10],I=t[11];return r[0]=b*T+d*R+p*S,r[1]=b*P+d*z+p*U,r[2]=b*g+d*C+p*B,r[3]=b*v+d*M+p*I,r[4]=x*T+F*R+A*S,r[5]=x*P+F*z+A*U,r[6]=x*g+F*C+A*B,r[7]=x*v+F*M+A*I,r[8]=h*T+E*R+w*S,r[9]=h*P+E*z+w*U,r[10]=h*g+E*C+w*B,r[11]=h*v+E*M+w*I,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r}function tt(t,e){return(e=e||new _(16))[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function et(t,e,n){n=n||new _(16);const r=e[0],o=e[1],u=e[2];return n[0]=r*t[0],n[1]=r*t[1],n[2]=r*t[2],n[3]=r*t[3],n[4]=o*t[4],n[5]=o*t[5],n[6]=o*t[6],n[7]=o*t[7],n[8]=u*t[8],n[9]=u*t[9],n[10]=u*t[10],n[11]=u*t[11],t!==n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function nt(t,e,n){n=n||f();const r=e[0],o=e[1],u=e[2],i=r*t[3]+o*t[7]+u*t[11]+t[15];return n[0]=(r*t[0]+o*t[4]+u*t[8]+t[12])/i,n[1]=(r*t[1]+o*t[5]+u*t[9]+t[13])/i,n[2]=(r*t[2]+o*t[6]+u*t[10]+t[14])/i,n}function rt(t,e,n){n=n||f();const r=e[0],o=e[1],u=e[2];return n[0]=r*t[0]+o*t[4]+u*t[8],n[1]=r*t[1]+o*t[5]+u*t[9],n[2]=r*t[2]+o*t[6]+u*t[10],n}function ot(t,e,n){n=n||f();const r=B(t),o=e[0],u=e[1],i=e[2];return n[0]=o*r[0]+u*r[1]+i*r[2],n[1]=o*r[4]+u*r[5]+i*r[6],n[2]=o*r[8]+u*r[9]+i*r[10],n}const ut=5120,it=5121,ct=5122,ft=5123,st=5124,at=5125,lt=5126,yt={};{const t=yt;t[ut]=Int8Array,t[it]=Uint8Array,t[ct]=Int16Array,t[ft]=Uint16Array,t[st]=Int32Array,t[at]=Uint32Array,t[lt]=Float32Array,t[32819]=Uint16Array,t[32820]=Uint16Array,t[33635]=Uint16Array,t[5131]=Uint16Array,t[33640]=Uint32Array,t[35899]=Uint32Array,t[35902]=Uint32Array,t[36269]=Uint32Array,t[34042]=Uint32Array}function mt(t){if(t instanceof Int8Array)return ut;if(t instanceof Uint8Array)return it;if(t instanceof Uint8ClampedArray)return it;if(t instanceof Int16Array)return ct;if(t instanceof Uint16Array)return ft;if(t instanceof Int32Array)return st;if(t instanceof Uint32Array)return at;if(t instanceof Float32Array)return lt;throw"unsupported typed array type"}function bt(t){if(t===Int8Array)return ut;if(t===Uint8Array)return it;if(t===Uint8ClampedArray)return it;if(t===Int16Array)return ct;if(t===Uint16Array)return ft;if(t===Int32Array)return st;if(t===Uint32Array)return at;if(t===Float32Array)return lt;throw"unsupported typed array type"}function dt(t){const e=yt[t];if(!e)throw"unknown gl type";return e}const pt="undefined"!=typeof SharedArrayBuffer?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function xt(t,e){Object.keys(e).forEach(function(n){e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(e[n]=t[n])})}const Ft="undefined"!=typeof console&&console.error&&"function"==typeof console.error?console.error.bind(console):function(){},At="undefined"!=typeof console&&console.warn&&"function"==typeof console.warn?console.warn.bind(console):function(){};let ht,Et,wt,Tt,Pt;function _t(t,e){return Et||(Et=t.createRenderbuffer()),e instanceof Et.constructor}function gt(t,e){return wt||(wt=t.createShader(t.VERTEX_SHADER)),e instanceof wt.constructor}function vt(t,e){return Tt||(Tt=t.createTexture()),e instanceof Tt.constructor}const Rt={attribPrefix:""};function zt(t){Rt.attribPrefix=t}function Ct(t){xt(t,Rt)}function Mt(t,e,n,r,o){t.bindBuffer(e,n),t.bufferData(e,r,o||t.STATIC_DRAW)}function St(t,e,n,r){if(function(t,e){return ht||(ht=t.createBuffer()),e instanceof ht.constructor}(t,e))return e;n=n||t.ARRAY_BUFFER;const o=t.createBuffer();return Mt(t,n,o,e,r),o}function Ut(t){return"indices"===t}function Bt(t){return t.length?t:t.data}const It=/coord|texture/i,Ot=/color|colour/i;function jt(t,e){let n;if(e%(n=It.test(t)?2:Ot.test(t)?4:3)>0)throw"Can not guess numComponents for attribute '"+t+"'. Tried "+n+" but "+e+" values is not evenly divisible by "+n+". You should specify it.";return n}function kt(t,e){return t.numComponents||t.size||jt(e,Bt(t).length)}function Dt(t,e){if(pt(t))return t;if(pt(t.data))return t.data;Array.isArray(t)&&(t={data:t});let n=t.type;return n||(n=Ut(e)?Uint16Array:Float32Array),new n(t.data)}function Lt(t,e){const n={};return Object.keys(e).forEach(function(r){if(!Ut(r)){const u=e[r],i=u.attrib||u.name||u.attribName||Rt.attribPrefix+r;if(u.value){if(!Array.isArray(u.value)&&!pt(u.value))throw new Error("array.value is not array or typedarray");n[i]={value:u.value}}else{let e,c,f,s;if(u.buffer&&u.buffer instanceof WebGLBuffer)e=u.buffer,s=u.numComponents||u.size,c=u.type,f=u.normalize;else if("number"==typeof u||"number"==typeof u.data){const n=u.data||u,i=u.type||Float32Array,a=n*i.BYTES_PER_ELEMENT;c=bt(i),f=void 0!==u.normalize?u.normalize:(o=i)===Int8Array||o===Uint8Array,s=u.numComponents||u.size||jt(r,n),e=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,a,u.drawType||t.STATIC_DRAW)}else{const n=Dt(u,r);e=St(t,n,void 0,u.drawType),c=mt(n),f=void 0!==u.normalize?u.normalize:function(t){return t instanceof Int8Array||t instanceof Uint8Array}(n),s=kt(u,r)}n[i]={buffer:e,numComponents:s,type:c,normalize:f,stride:u.stride||0,offset:u.offset||0,divisor:void 0===u.divisor?void 0:u.divisor,drawType:u.drawType}}}var o}),t.bindBuffer(t.ARRAY_BUFFER,null),n}function Vt(t,e,n,r){n=Dt(n),void 0!==r?(t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.bufferSubData(t.ARRAY_BUFFER,r,n)):Mt(t,t.ARRAY_BUFFER,e.buffer,n,e.drawType)}const Gt=["position","positions","a_position"];function Xt(t,e,n){const r=Lt(t,e),o=Object.assign({},n||{});o.attribs=Object.assign({},n?n.attribs:{},r);const u=e.indices;if(u){const e=Dt(u,"indices");o.indices=St(t,e,t.ELEMENT_ARRAY_BUFFER),o.numElements=e.length,o.elementType=mt(e)}else o.numElements||(o.numElements=function(t,e){let n,r;for(r=0;r<Gt.length&&!((n=Gt[r])in e)&&!((n=Rt.attribPrefix+n)in e);++r);r===Gt.length&&(n=Object.keys(e)[0]);const o=e[n];t.bindBuffer(t.ARRAY_BUFFER,o.buffer);const u=t.getBufferParameter(t.ARRAY_BUFFER,t.BUFFER_SIZE);t.bindBuffer(t.ARRAY_BUFFER,null);const i=u/function(t,e){return e===t.BYTE?1:e===t.UNSIGNED_BYTE?1:e===t.SHORT?2:e===t.UNSIGNED_SHORT?2:e===t.INT?4:e===t.UNSIGNED_INT?4:e===t.FLOAT?4:0}(t,o.type),c=o.numComponents||o.size,f=i/c;if(f%1!=0)throw"numComponents "+c+" not correct for length "+length;return f}(t,o.attribs));return o}function Nt(t,e,n){const r="indices"===n?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;return St(t,Dt(e,n),r)}function Wt(t,e){const n={};return Object.keys(e).forEach(function(r){n[r]=Nt(t,e[r],r)}),e.indices?(n.numElements=e.indices.length,n.elementType=mt(Dt(e.indices))):n.numElements=function(t){let e,n;for(n=0;n<Gt.length&&!((e=Gt[n])in t);++n);n===Gt.length&&(e=Object.keys(t)[0]);const r=t[e],o=Bt(r).length,u=kt(r,e);if(o%u>0)throw"numComponents "+u+" not correct for length "+o;return o/u}(e),n}const Yt=Bt,qt=kt;function Ht(t,e){let n=0;return t.push=function(){for(let e=0;e<arguments.length;++e){const r=arguments[e];if(r instanceof Array||pt(r))for(let e=0;e<r.length;++e)t[n++]=r[e];else t[n++]=r}},t.reset=function(t){n=t||0},t.numComponents=e,Object.defineProperty(t,"numElements",{get:function(){return this.length/this.numComponents|0}}),t}function Qt(t,e,n){return Ht(new(n||Float32Array)(t*e),t)}function Zt(t){return"indices"!==t}function $t(t){const e=t.indices,n={},r=e.length;return Object.keys(t).filter(Zt).forEach(function(o){const u=t[o],i=u.numComponents,c=Qt(i,r,u.constructor);for(let t=0;t<r;++t){const n=e[t]*i;for(let t=0;t<i;++t)c.push(u[n+t])}n[o]=c}),n}function Kt(t){if(t.indices)throw"can't flatten normals of indexed vertices. deindex them first";const e=t.normal,n=e.length;for(let t=0;t<n;t+=9){const n=e[t+0],r=e[t+1],o=e[t+2],u=e[t+3],i=e[t+4],c=e[t+5];let f=n+u+e[t+6],s=r+i+e[t+7],a=o+c+e[t+8];const l=Math.sqrt(f*f+s*s+a*a);f/=l,s/=l,a/=l,e[t+0]=f,e[t+1]=s,e[t+2]=a,e[t+3]=f,e[t+4]=s,e[t+5]=a,e[t+6]=f,e[t+7]=s,e[t+8]=a}return t}function Jt(t,e,n){const r=t.length,o=new Float32Array(3);for(let u=0;u<r;u+=3)n(e,[t[u],t[u+1],t[u+2]],o),t[u]=o[0],t[u+1]=o[1],t[u+2]=o[2]}function te(t,e,n){n=n||f();const r=e[0],o=e[1],u=e[2];return n[0]=r*t[0]+o*t[1]+u*t[2],n[1]=r*t[4]+o*t[5]+u*t[6],n[2]=r*t[8]+o*t[9]+u*t[10],n}function ee(t,e){return Jt(t,e,rt),t}function ne(t,e){return Jt(t,B(e),te),t}function re(t,e){return Jt(t,e,nt),t}function oe(t,e){return Object.keys(t).forEach(function(n){const r=t[n];n.indexOf("pos")>=0?re(r,e):n.indexOf("tan")>=0||n.indexOf("binorm")>=0?ee(r,e):n.indexOf("norm")>=0&&ne(r,e)}),t}function ue(t,e,n){return t=t||2,{position:{numComponents:2,data:[(e=e||0)+-1*(t*=.5),(n=n||0)+-1*t,e+1*t,n+-1*t,e+-1*t,n+1*t,e+1*t,n+1*t]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function ie(t,e,n,r,o){t=t||1,e=e||1,n=n||1,r=r||1,o=o||S();const u=(n+1)*(r+1),i=Qt(3,u),c=Qt(3,u),f=Qt(2,u);for(let o=0;o<=r;o++)for(let u=0;u<=n;u++){const s=u/n,a=o/r;i.push(t*s-.5*t,0,e*a-.5*e),c.push(0,1,0),f.push(s,a)}const s=n+1,a=Qt(3,n*r*2,Uint16Array);for(let t=0;t<r;t++)for(let e=0;e<n;e++)a.push((t+0)*s+e,(t+1)*s+e,(t+0)*s+e+1),a.push((t+1)*s+e,(t+1)*s+e+1,(t+0)*s+e+1);return oe({position:i,normal:c,texcoord:f,indices:a},o)}function ce(t,e,n,r,o,u,i){if(e<=0||n<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");r=r||0,u=u||0;const c=(o=o||Math.PI)-r,f=(i=i||2*Math.PI)-u,s=(e+1)*(n+1),a=Qt(3,s),l=Qt(3,s),y=Qt(2,s);for(let o=0;o<=n;o++)for(let i=0;i<=e;i++){const s=i/e,m=o/n,b=f*s+u,d=c*m+r,p=Math.sin(b),x=Math.cos(b),F=Math.sin(d),A=x*F,h=Math.cos(d),E=p*F;a.push(t*A,t*h,t*E),l.push(A,h,E),y.push(1-s,m)}const m=e+1,b=Qt(3,e*n*2,Uint16Array);for(let t=0;t<e;t++)for(let e=0;e<n;e++)b.push((e+0)*m+t,(e+0)*m+t+1,(e+1)*m+t),b.push((e+1)*m+t,(e+0)*m+t+1,(e+1)*m+t+1);return{position:a,normal:l,texcoord:y,indices:b}}const fe=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function se(t){const e=(t=t||1)/2,n=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],r=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],u=Qt(3,24),i=Qt(3,24),c=Qt(2,24),f=Qt(3,12,Uint16Array);for(let t=0;t<6;++t){const e=fe[t];for(let f=0;f<4;++f){const s=n[e[f]],a=r[t],l=o[f];u.push(s),i.push(a),c.push(l)}const s=4*t;f.push(s+0,s+1,s+2),f.push(s+0,s+2,s+3)}return{position:u,normal:i,texcoord:c,indices:f}}function ae(t,e,n,r,o,u,i){if(r<3)throw Error("radialSubdivisions must be 3 or greater");if(o<1)throw Error("verticalSubdivisions must be 1 or greater");const c=void 0===u||u,f=void 0===i||i,s=(c?2:0)+(f?2:0),a=(r+1)*(o+1+s),l=Qt(3,a),y=Qt(3,a),m=Qt(2,a),b=Qt(3,r*(o+s)*2,Uint16Array),d=r+1,p=Math.atan2(t-e,n),x=Math.cos(p),F=Math.sin(p),A=o+(f?2:0);for(let u=c?-2:0;u<=A;++u){let i,c=u/o,f=n*c;u<0?(f=0,c=1,i=t):u>o?(f=n,c=1,i=e):i=t+u/o*(e-t),-2!==u&&u!==o+2||(i=0,c=0),f-=n/2;for(let t=0;t<d;++t){const e=Math.sin(t*Math.PI*2/r),n=Math.cos(t*Math.PI*2/r);l.push(e*i,f,n*i),y.push(u<0||u>o?0:e*x,u<0?-1:u>o?1:F,u<0||u>o?0:n*x),m.push(t/r,1-c)}}for(let t=0;t<o+s;++t)for(let e=0;e<r;++e)b.push(d*(t+0)+0+e,d*(t+0)+1+e,d*(t+1)+1+e),b.push(d*(t+0)+0+e,d*(t+1)+1+e,d*(t+1)+0+e);return{position:l,normal:y,texcoord:m,indices:b}}function le(t,e){e=e||[];const n=[];for(let r=0;r<t.length;r+=4){const o=t[r],u=t.slice(r+1,r+4);u.push.apply(u,e);for(let t=0;t<o;++t)n.push.apply(n,u)}return n}function ye(){const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=le([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),n=le([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),r=t.length/3,o={position:Qt(3,r),texcoord:Qt(2,r),normal:Qt(3,r),color:Qt(4,r,Uint8Array),indices:Qt(3,r/3,Uint16Array)};o.position.push(t),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(e),o.color.push(n);for(let t=0;t<r;++t)o.indices.push(t);return o}function me(t,e,n,r,o,u,i){if(o<=0)throw Error("subdivisionDown must be > 0");const c=2,f=(i=i||1)-(u=u||0),a=2*(o+1)*(2+c),l=Qt(3,a),y=Qt(3,a),m=Qt(2,a);function b(t,e,n){return t+(e-t)*n}function d(e,n,i,a,d,p){for(let x=0;x<=o;x++){const F=n/(c-1),A=x/o,h=2*(F-.5),E=(u+A*f)*Math.PI,w=Math.sin(E),P=Math.cos(E),_=b(t,e,w),g=h*r,v=P*t,R=w*_;l.push(g,v,R);const z=s(T([0,w,P],i),a);y.push(z),m.push(F*d+p,A)}}for(let t=0;t<c;t++){const r=2*(t/(c-1)-.5);d(e,t,[1,1,1],[0,0,0],1,0),d(e,t,[0,0,0],[r,0,0],0,0),d(n,t,[1,1,1],[0,0,0],1,0),d(n,t,[0,0,0],[r,0,0],0,1)}const p=Qt(3,2*o*(2+c),Uint16Array);function x(t,e){for(let n=0;n<o;++n)p.push(t+n+0,t+n+1,e+n+0),p.push(t+n+1,e+n+1,e+n+0)}const F=o+1;return x(0*F,4*F),x(5*F,7*F),x(6*F,2*F),x(3*F,1*F),{position:l,normal:y,texcoord:m,indices:p}}function be(t,e,n,r,o,u){return ae(t,t,e,n,r,o,u)}function de(t,e,n,r,o,u){if(n<3)throw Error("radialSubdivisions must be 3 or greater");if(r<3)throw Error("verticalSubdivisions must be 3 or greater");o=o||0;const i=(u=u||2*Math.PI)-o,c=n+1,f=r+1,s=c*f,a=Qt(3,s),l=Qt(3,s),y=Qt(2,s),m=Qt(3,n*r*2,Uint16Array);for(let u=0;u<f;++u){const f=u/r,s=f*Math.PI*2,m=Math.sin(s),b=t+m*e,d=Math.cos(s),p=d*e;for(let t=0;t<c;++t){const e=t/n,r=o+e*i,u=Math.sin(r),c=Math.cos(r),s=u*b,x=c*b,F=u*m,A=c*m;a.push(s,p,x),l.push(F,d,A),y.push(e,1-f)}}for(let t=0;t<r;++t)for(let e=0;e<n;++e){const n=1+e,r=1+t;m.push(c*t+e,c*r+e,c*t+n),m.push(c*r+e,c*r+n,c*t+n)}return{position:a,normal:l,texcoord:y,indices:m}}function pe(t,e,n,r,o){if(e<3)throw Error("divisions must be at least 3");o=o||1,r=r||0;const u=(e+1)*((n=n||1)+1),i=Qt(3,u),c=Qt(3,u),f=Qt(2,u),s=Qt(3,n*e*2,Uint16Array);let a=0;const l=t-r,y=e+1;for(let t=0;t<=n;++t){const u=r+l*Math.pow(t/n,o);for(let r=0;r<=e;++r){const o=2*Math.PI*r/e,l=u*Math.cos(o),m=u*Math.sin(o);if(i.push(l,0,m),c.push(0,1,0),f.push(1-r/e,t/n),t>0&&r!==e){const t=a+(r+1),e=a+r,n=a+r-y,o=a+(r+1)-y;s.push(t,e,n),s.push(t,n,o)}}a+=e+1}return{position:i,normal:c,texcoord:f,indices:s}}function xe(t,e){e=e||{};const n=t.position.numElements,r=Qt(4,n,Uint8Array),o=e.rand||function(t,e){return e<3?(n=256,Math.random()*n|0):255;var n};if(t.color=r,t.indices)for(let t=0;t<n;++t)r.push(o(t,0),o(t,1),o(t,2),o(t,3));else{const t=e.vertsPerColor||3,u=n/t;for(let e=0;e<u;++e){const n=[o(e,0),o(e,1),o(e,2),o(e,3)];for(let e=0;e<t;++e)r.push(n)}}return t}function Fe(t){return function(e){return Wt(e,t.apply(this,Array.prototype.slice.call(arguments,1)))}}function Ae(t){return function(e){return Xt(e,t.apply(null,Array.prototype.slice.call(arguments,1)))}}const he=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function Ee(t,e,n,r){r=r||0;const o=t.length;for(let u=0;u<o;++u)e[n+u]=t[u]+r}function we(t,e){const n=Yt(t),r=new n.constructor(e);let o=r;var u,i;return n.numComponents&&n.numElements&&Ht(r,n.numComponents),t.data&&(u=t,i=o={data:r},he.forEach(function(t){const e=u[t];void 0!==e&&(i[t]=e)})),o}function Te(t){const e={};let n;for(let r=0;r<t.length;++r){const o=t[r];Object.keys(o).forEach(function(t){e[t]||(e[t]=[]),n||"indices"===t||(n=t);const r=o[t],u=qt(r,t),i=Yt(r).length/u;e[t].push(i)})}const r=e[n],o={};return Object.keys(e).forEach(function(e){const n=function(e){let n,r=0;for(let o=0;o<t.length;++o){const u=t[o][e];r+=Yt(u).length,n&&!u.data||(n=u)}return{length:r,spec:n}}(e),u=we(n.spec,n.length);!function(e,n,r){let o=0,u=0;for(let i=0;i<t.length;++i){const c=t[i][e],f=Yt(c);"indices"===e?(Ee(f,r,u,o),o+=n[i]):Ee(f,r,u),u+=f.length}}(e,r,Yt(u)),o[e]=u}),o}function Pe(t){const e={};return Object.keys(t).forEach(function(n){const r=t[n],o=Yt(r),u=we(r,o.length);Ee(o,Yt(u),0),e[n]=u}),e}const _e=Ae(ye),ge=Fe(ye),ve=Ae(se),Re=Fe(se),ze=Ae(ie),Ce=Fe(ie),Me=Ae(ce),Se=Fe(ce),Ue=Ae(ae),Be=Fe(ae),Ie=Ae(ue),Oe=Fe(ue),je=Ae(me),ke=Fe(me),De=Ae(be),Le=Fe(be),Ve=Ae(de),Ge=Fe(de),Xe=Ae(pe),Ne=Fe(pe);function We(t){return!!t.texStorage2D}function Ye(t){return!t.texStorage2D}const qe=function(){const t={},e={};return function(n,r){return function(n){const r=n.constructor.name;if(!t[r]){for(const t in n)if("number"==typeof n[t]){const r=e[n[t]];e[n[t]]=r?`${r} | ${t}`:t}t[r]=!0}}(n),e[r]||"0x"+r.toString(16)}}(),He={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Qe=pt,Ze="undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null,$e=6407,Ke=33319,Je={};{const t=Je;t[6406]={u:1},t[6409]={u:1},t[6410]={u:2},t[$e]={u:3},t[6408]={u:4},t[6403]={u:1},t[36244]={u:1},t[Ke]={u:2},t[33320]={u:2},t[$e]={u:3},t[36248]={u:3},t[6408]={u:4},t[36249]={u:4},t[6402]={u:1},t[34041]={u:2}}const tn={};{const t=tn;t[6406]={F:6406,A:!0,h:!0,T:[1,2,2,4],type:[5121,5131,36193,5126]},t[6409]={F:6409,A:!0,h:!0,T:[1,2,2,4],type:[5121,5131,36193,5126]},t[6410]={F:6410,A:!0,h:!0,T:[2,4,4,8],type:[5121,5131,36193,5126]},t[$e]={F:$e,A:!0,h:!0,T:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},t[6408]={F:6408,A:!0,h:!0,T:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},t[33321]={F:6403,A:!0,h:!0,T:[1],type:[5121]},t[36756]={F:6403,A:!1,h:!0,T:[1],type:[5120]},t[33325]={F:6403,A:!1,h:!0,T:[4,2],type:[5126,5131]},t[33326]={F:6403,A:!1,h:!1,T:[4],type:[5126]},t[33330]={F:36244,A:!0,h:!1,T:[1],type:[5121]},t[33329]={F:36244,A:!0,h:!1,T:[1],type:[5120]},t[33332]={F:36244,A:!0,h:!1,T:[2],type:[5123]},t[33331]={F:36244,A:!0,h:!1,T:[2],type:[5122]},t[33334]={F:36244,A:!0,h:!1,T:[4],type:[5125]},t[33333]={F:36244,A:!0,h:!1,T:[4],type:[5124]},t[33323]={F:Ke,A:!0,h:!0,T:[2],type:[5121]},t[36757]={F:Ke,A:!1,h:!0,T:[2],type:[5120]},t[33327]={F:Ke,A:!1,h:!0,T:[8,4],type:[5126,5131]},t[33328]={F:Ke,A:!1,h:!1,T:[8],type:[5126]},t[33336]={F:33320,A:!0,h:!1,T:[2],type:[5121]},t[33335]={F:33320,A:!0,h:!1,T:[2],type:[5120]},t[33338]={F:33320,A:!0,h:!1,T:[4],type:[5123]},t[33337]={F:33320,A:!0,h:!1,T:[4],type:[5122]},t[33340]={F:33320,A:!0,h:!1,T:[8],type:[5125]},t[33339]={F:33320,A:!0,h:!1,T:[8],type:[5124]},t[32849]={F:$e,A:!0,h:!0,T:[3],type:[5121]},t[35905]={F:$e,A:!1,h:!0,T:[3],type:[5121]},t[36194]={F:$e,A:!0,h:!0,T:[3,2],type:[5121,33635]},t[36758]={F:$e,A:!1,h:!0,T:[3],type:[5120]},t[35898]={F:$e,A:!1,h:!0,T:[12,6,4],type:[5126,5131,35899]},t[35901]={F:$e,A:!1,h:!0,T:[12,6,4],type:[5126,5131,35902]},t[34843]={F:$e,A:!1,h:!0,T:[12,6],type:[5126,5131]},t[34837]={F:$e,A:!1,h:!1,T:[12],type:[5126]},t[36221]={F:36248,A:!1,h:!1,T:[3],type:[5121]},t[36239]={F:36248,A:!1,h:!1,T:[3],type:[5120]},t[36215]={F:36248,A:!1,h:!1,T:[6],type:[5123]},t[36233]={F:36248,A:!1,h:!1,T:[6],type:[5122]},t[36209]={F:36248,A:!1,h:!1,T:[12],type:[5125]},t[36227]={F:36248,A:!1,h:!1,T:[12],type:[5124]},t[32856]={F:6408,A:!0,h:!0,T:[4],type:[5121]},t[35907]={F:6408,A:!0,h:!0,T:[4],type:[5121]},t[36759]={F:6408,A:!1,h:!0,T:[4],type:[5120]},t[32855]={F:6408,A:!0,h:!0,T:[4,2,4],type:[5121,32820,33640]},t[32854]={F:6408,A:!0,h:!0,T:[4,2],type:[5121,32819]},t[32857]={F:6408,A:!0,h:!0,T:[4],type:[33640]},t[34842]={F:6408,A:!1,h:!0,T:[16,8],type:[5126,5131]},t[34836]={F:6408,A:!1,h:!1,T:[16],type:[5126]},t[36220]={F:36249,A:!0,h:!1,T:[4],type:[5121]},t[36238]={F:36249,A:!0,h:!1,T:[4],type:[5120]},t[36975]={F:36249,A:!0,h:!1,T:[4],type:[33640]},t[36214]={F:36249,A:!0,h:!1,T:[8],type:[5123]},t[36232]={F:36249,A:!0,h:!1,T:[8],type:[5122]},t[36226]={F:36249,A:!0,h:!1,T:[16],type:[5124]},t[36208]={F:36249,A:!0,h:!1,T:[16],type:[5125]},t[33189]={F:6402,A:!0,h:!1,T:[2,4],type:[5123,5125]},t[33190]={F:6402,A:!0,h:!1,T:[4],type:[5125]},t[36012]={F:6402,A:!0,h:!1,T:[4],type:[5126]},t[35056]={F:34041,A:!0,h:!1,T:[4],type:[34042]},t[36013]={F:34041,A:!0,h:!1,T:[4],type:[36269]},Object.keys(t).forEach(function(e){const n=t[e];n.bytesPerElementMap={},n.T.forEach(function(t,e){const r=n.type[e];n.bytesPerElementMap[r]=t})})}function en(t,e){const n=tn[t];if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[e];if(void 0===r)throw"unknown internal format";return r}function nn(t){const e=tn[t];if(!e)throw"unknown internal format";return{format:e.F,type:e.type[0]}}function rn(t){return 0==(t&t-1)}function on(t,e,n,r){if(!We(t))return rn(e)&&rn(n);const o=tn[r];if(!o)throw"unknown internal format";return o.A&&o.h}function un(t){const e=tn[t];if(!e)throw"unknown internal format";return e.h}function cn(t){const e=Je[t];if(!e)throw"unknown format: "+t;return e.u}function fn(t,e,n){return Qe(e)?mt(e):n||t.UNSIGNED_BYTE}function sn(t,e,n,r,o){if(o%1!=0)throw"can't guess dimensions";if(n||r){if(r){if(!n&&(n=o/r)%1)throw"can't guess dimensions"}else if((r=o/n)%1)throw"can't guess dimensions"}else{const u=Math.sqrt(o/(e===t.TEXTURE_CUBE_MAP?6:1));u%1==0?(n=u,r=u):(n=o,r=1)}return{width:n,height:r}}function an(t){He.textureColor=new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}function ln(t){xt(t,He),t.textureColor&&an(t.textureColor)}const yn={};function mn(t,e){void 0!==e.colorspaceConversion&&(yn.colorspaceConversion=t.getParameter(t.UNPACK_COLORSPACE_CONVERSION_WEBGL),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.colorspaceConversion)),void 0!==e.premultiplyAlpha&&(yn.premultiplyAlpha=t.getParameter(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha)),void 0!==e.flipY&&(yn.flipY=t.getParameter(t.UNPACK_FLIP_Y_WEBGL),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY))}function bn(t,e){void 0!==e.colorspaceConversion&&t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,yn.colorspaceConversion),void 0!==e.premultiplyAlpha&&t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,yn.premultiplyAlpha),void 0!==e.flipY&&t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,yn.flipY)}function dn(t){yn.unpackAlignment=t.getParameter(t.UNPACK_ALIGNMENT),We(t)&&(yn.unpackRowLength=t.getParameter(t.UNPACK_ROW_LENGTH),yn.unpackImageHeight=t.getParameter(t.UNPACK_IMAGE_HEIGHT),yn.unpackSkipPixels=t.getParameter(t.UNPACK_SKIP_PIXELS),yn.unpackSkipRows=t.getParameter(t.UNPACK_SKIP_ROWS),yn.unpackSkipImages=t.getParameter(t.UNPACK_SKIP_IMAGES))}function pn(t){t.pixelStorei(t.UNPACK_ALIGNMENT,yn.unpackAlignment),We(t)&&(t.pixelStorei(t.UNPACK_ROW_LENGTH,yn.unpackRowLength),t.pixelStorei(t.UNPACK_IMAGE_HEIGHT,yn.unpackImageHeight),t.pixelStorei(t.UNPACK_SKIP_PIXELS,yn.unpackSkipPixels),t.pixelStorei(t.UNPACK_SKIP_ROWS,yn.unpackSkipRows),t.pixelStorei(t.UNPACK_SKIP_IMAGES,yn.unpackSkipImages))}function xn(t,e,n,r){r.minMag&&(n.call(t,e,t.TEXTURE_MIN_FILTER,r.minMag),n.call(t,e,t.TEXTURE_MAG_FILTER,r.minMag)),r.min&&n.call(t,e,t.TEXTURE_MIN_FILTER,r.min),r.mag&&n.call(t,e,t.TEXTURE_MAG_FILTER,r.mag),r.wrap&&(n.call(t,e,t.TEXTURE_WRAP_S,r.wrap),n.call(t,e,t.TEXTURE_WRAP_T,r.wrap),(e===t.TEXTURE_3D||function(t,e){if(!Pt){if(!t.createSampler)return!1;Pt=t.createSampler()}return e instanceof Pt.constructor}(t,e))&&n.call(t,e,t.TEXTURE_WRAP_R,r.wrap)),r.wrapR&&n.call(t,e,t.TEXTURE_WRAP_R,r.wrapR),r.wrapS&&n.call(t,e,t.TEXTURE_WRAP_S,r.wrapS),r.wrapT&&n.call(t,e,t.TEXTURE_WRAP_T,r.wrapT),r.minLod&&n.call(t,e,t.TEXTURE_MIN_LOD,r.minLod),r.maxLod&&n.call(t,e,t.TEXTURE_MAX_LOD,r.maxLod),r.baseLevel&&n.call(t,e,t.TEXTURE_BASE_LEVEL,r.baseLevel),r.maxLevel&&n.call(t,e,t.TEXTURE_MAX_LEVEL,r.maxLevel)}function Fn(t,e,n){const r=n.target||t.TEXTURE_2D;t.bindTexture(r,e),xn(t,r,t.texParameteri,n)}function An(t,e,n){xn(t,e,t.samplerParameteri,n)}function hn(t,e){const n=t.createSampler();return An(t,n,e),n}function En(t,e){const n={};return Object.keys(e).forEach(function(r){n[r]=hn(t,e[r])}),n}function wn(t,e,n,r,o,u,i){n=n||He.textureOptions,u=u||t.RGBA,i=i||t.UNSIGNED_BYTE;const c=n.target||t.TEXTURE_2D;if(r=r||n.width,o=o||n.height,t.bindTexture(c,e),on(t,r,o,u))t.generateMipmap(c);else{const e=un(u)?t.LINEAR:t.NEAREST;t.texParameteri(c,t.TEXTURE_MIN_FILTER,e),t.texParameteri(c,t.TEXTURE_MAG_FILTER,e),t.texParameteri(c,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(c,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}}function Tn(t){return!0===t.auto||void 0===t.auto&&void 0===t.level}function Pn(t,e){return(e=e||{}).cubeFaceOrder||[t.TEXTURE_CUBE_MAP_POSITIVE_X,t.TEXTURE_CUBE_MAP_NEGATIVE_X,t.TEXTURE_CUBE_MAP_POSITIVE_Y,t.TEXTURE_CUBE_MAP_NEGATIVE_Y,t.TEXTURE_CUBE_MAP_POSITIVE_Z,t.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function _n(t,e){const n=Pn(t,e).map(function(t,e){return{face:t,ndx:e}});return n.sort(function(t,e){return t.face-e.face}),n}function gn(t,e,n,r){const o=(r=r||He.textureOptions).target||t.TEXTURE_2D,u=r.level||0;let i=n.width,c=n.height;const f=r.internalFormat||r.format||t.RGBA,s=nn(f),a=r.format||s.format,l=r.type||s.type;if(mn(t,r),t.bindTexture(o,e),o===t.TEXTURE_CUBE_MAP){const s=n.width,y=n.height;let m,b;if(s/6===y)m=y,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(y/6===s)m=s,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(s/3==y/2)m=s/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(s/2!=y/3)throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);m=s/2,b=[0,0,1,0,0,1,1,1,0,2,1,2]}Ze?(Ze.canvas.width=m,Ze.canvas.height=m,i=m,c=m,_n(t,r).forEach(function(e){const r=b[2*e.ndx+0]*m,o=b[2*e.ndx+1]*m;Ze.drawImage(n,r,o,m,m,0,0,m,m),t.texImage2D(e.face,u,f,a,l,Ze.canvas)}),Ze.canvas.width=1,Ze.canvas.height=1):"undefined"!=typeof createImageBitmap&&(i=m,c=m,_n(t,r).forEach(function(s){const y=b[2*s.ndx+0]*m,d=b[2*s.ndx+1]*m;t.texImage2D(s.face,u,f,m,m,0,a,l,null),createImageBitmap(n,y,d,m,m,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(n){mn(t,r),t.bindTexture(o,e),t.texImage2D(s.face,u,f,a,l,n),bn(t,r),Tn(r)&&wn(t,e,r,i,c,f,l)})}))}else if(o===t.TEXTURE_3D||o===t.TEXTURE_2D_ARRAY){const e=Math.min(n.width,n.height),r=Math.max(n.width,n.height),i=r/e;if(i%1!=0)throw"can not compute 3D dimensions of element";const c=n.width===r?1:0,s=n.height===r?1:0;dn(t),t.pixelStorei(t.UNPACK_ALIGNMENT,1),t.pixelStorei(t.UNPACK_ROW_LENGTH,n.width),t.pixelStorei(t.UNPACK_IMAGE_HEIGHT,0),t.pixelStorei(t.UNPACK_SKIP_IMAGES,0),t.texImage3D(o,u,f,e,e,e,0,a,l,null);for(let r=0;r<i;++r){const i=r*e*c,f=r*e*s;t.pixelStorei(t.UNPACK_SKIP_PIXELS,i),t.pixelStorei(t.UNPACK_SKIP_ROWS,f),t.texSubImage3D(o,u,0,0,r,e,e,1,a,l,n)}pn(t)}else t.texImage2D(o,u,f,a,l,n);bn(t,r),Tn(r)&&wn(t,e,r,i,c,f,l),Fn(t,e,r)}function vn(){}const Rn=new URL(location.href).origin;function zn(t,e){return void 0!==e||function(t){return new URL(t,location.href)===Rn}(t)?e:"anonymous"}function Cn(t){return"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof ImageData&&t instanceof ImageData||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}function Mn(t,e,n){return Cn(t)?(setTimeout(function(){n(null,t)}),t):function(t,e,n){let r;if(n=n||vn,e=void 0!==e?e:He.crossOrigin,e=zn(t,e),"undefined"!=typeof Image){r=new Image,void 0!==e&&(r.crossOrigin=e);const o=function(){r.removeEventListener("error",u),r.removeEventListener("load",i),r=null},u=function(){const e="couldn't load image: "+t;Ft(e),n(e,r),o()},i=function(){n(null,r),o()};return r.addEventListener("error",u),r.addEventListener("load",i),r.src=t,r}if("undefined"!=typeof ImageBitmap){let o,u;const i=function(){n(o,u)},c={};e&&(c.mode="cors"),fetch(t,c).then(function(t){if(!t.ok)throw t;return t.blob()}).then(function(t){return createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(t){u=t,setTimeout(i)}).catch(function(t){o=t,setTimeout(i)}),r=null}return r}(t,e,n)}function Sn(t,e,n){const r=(n=n||He.textureOptions).target||t.TEXTURE_2D;if(t.bindTexture(r,e),!1===n.color)return;const o=function(t){return t=t||He.textureColor,Qe(t)?t:new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}(n.color);if(r===t.TEXTURE_CUBE_MAP)for(let e=0;e<6;++e)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,o);else r===t.TEXTURE_3D||r===t.TEXTURE_2D_ARRAY?t.texImage3D(r,0,t.RGBA,1,1,1,0,t.RGBA,t.UNSIGNED_BYTE,o):t.texImage2D(r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,o)}function Un(t,e,n,r){return r=r||vn,n=n||He.textureOptions,Sn(t,e,n),Mn((n=Object.assign({},n)).src,n.crossOrigin,function(o,u){o?r(o,e,u):(gn(t,e,u,n),r(null,e,u))})}function Bn(t,e,n,r){r=r||vn;const o=n.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";const u=n.level||0,i=n.internalFormat||n.format||t.RGBA,c=nn(i),f=n.format||c.format,s=n.type||t.UNSIGNED_BYTE,a=n.target||t.TEXTURE_2D;if(a!==t.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";Sn(t,e,n),n=Object.assign({},n);let l=6;const y=[],m=Pn(t,n);let b;b=o.map(function(o,c){return Mn(o,n.crossOrigin,(d=m[c],function(o,c){--l,o?y.push(o):c.width!==c.height?y.push("cubemap face img is not a square: "+c.src):(mn(t,n),t.bindTexture(a,e),5===l?Pn(t).forEach(function(e){t.texImage2D(e,u,i,f,s,c)}):t.texImage2D(d,u,i,f,s,c),bn(t,n),Tn(n)&&t.generateMipmap(a)),0===l&&r(y.length?y:void 0,e,b)}));var d})}function In(t,e,n,r){r=r||vn;const o=n.src,u=n.internalFormat||n.format||t.RGBA,i=nn(u),c=n.format||i.format,f=n.type||t.UNSIGNED_BYTE,s=n.target||t.TEXTURE_2D_ARRAY;if(s!==t.TEXTURE_3D&&s!==t.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Sn(t,e,n),n=Object.assign({},n);let a=o.length;const l=[];let y;const m=n.level||0;let b=n.width,d=n.height;const p=o.length;let x=!0;y=o.map(function(o,i){return Mn(o,n.crossOrigin,(F=i,function(o,i){if(--a,o)l.push(o);else{if(mn(t,n),t.bindTexture(s,e),x){x=!1,b=n.width||i.width,d=n.height||i.height,t.texImage3D(s,m,u,b,d,p,0,c,f,null);for(let e=0;e<p;++e)t.texSubImage3D(s,m,0,0,e,b,d,1,c,f,i)}else{let e=i;i.width===b&&i.height===d||(e=Ze.canvas,Ze.canvas.width=b,Ze.canvas.height=d,Ze.drawImage(i,0,0,b,d)),t.texSubImage3D(s,m,0,0,F,b,d,1,c,f,e),e===Ze.canvas&&(Ze.canvas.width=0,Ze.canvas.height=0)}bn(t,n),Tn(n)&&t.generateMipmap(s)}0===a&&r(l.length?l:void 0,e,y)}));var F})}function On(t,e,n,r){const o=(r=r||He.textureOptions).target||t.TEXTURE_2D;t.bindTexture(o,e);let u=r.width,i=r.height,c=r.depth;const f=r.level||0,s=r.internalFormat||r.format||t.RGBA,a=nn(s),l=r.format||a.format,y=r.type||fn(t,n,a.type);if(Qe(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const t=dt(y);n=new t(n)}const m=en(s,y),b=n.byteLength/m;if(b%1)throw"length wrong size for format: "+qe(t,l);let d;if(o===t.TEXTURE_3D)if(u||i||c)!u||i&&c?!i||u&&c?(d=sn(t,o,u,i,b/c),u=d.width,i=d.height):(d=sn(t,o,u,c,b/i),u=d.width,c=d.height):(d=sn(t,o,i,c,b/u),i=d.width,c=d.height);else{const t=Math.cbrt(b);if(t%1!=0)throw"can't guess cube size of array of numElements: "+b;u=t,i=t,c=t}else d=sn(t,o,u,i,b),u=d.width,i=d.height;if(dn(t),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment||1),mn(t,r),o===t.TEXTURE_CUBE_MAP){const e=b/6*(m/n.BYTES_PER_ELEMENT);_n(t,r).forEach(r=>{const o=e*r.ndx,c=n.subarray(o,o+e);t.texImage2D(r.face,f,s,u,i,0,l,y,c)})}else o===t.TEXTURE_3D?t.texImage3D(o,f,s,u,i,c,0,l,y,n):t.texImage2D(o,f,s,u,i,0,l,y,n);return bn(t,r),pn(t),{width:u,height:i,depth:c,type:y}}function jn(t,e,n){const r=n.target||t.TEXTURE_2D;t.bindTexture(r,e);const o=n.level||0,u=n.internalFormat||n.format||t.RGBA,i=nn(u),c=n.format||i.format,f=n.type||i.type;if(mn(t,n),r===t.TEXTURE_CUBE_MAP)for(let e=0;e<6;++e)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,o,u,n.width,n.height,0,c,f,null);else r===t.TEXTURE_3D?t.texImage3D(r,o,u,n.width,n.height,n.depth,0,c,f,null):t.texImage2D(r,o,u,n.width,n.height,0,c,f,null);bn(t,n)}function kn(t,e,n){n=n||vn,e=e||He.textureOptions;const r=t.createTexture(),o=e.target||t.TEXTURE_2D;let u=e.width||1,i=e.height||1;const c=e.internalFormat||t.RGBA,f=nn(c);let s=e.type||f.type;t.bindTexture(o,r),o===t.TEXTURE_CUBE_MAP&&(t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE));let a=e.src;if(a)if("function"==typeof a&&(a=a(t,e)),"string"==typeof a)Un(t,r,e,n);else if(Qe(a)||Array.isArray(a)&&("number"==typeof a[0]||Array.isArray(a[0])||Qe(a[0]))){const n=On(t,r,a,e);u=n.width,i=n.height,s=n.type}else if(Array.isArray(a)&&("string"==typeof a[0]||Cn(a[0])))o===t.TEXTURE_CUBE_MAP?Bn(t,r,e,n):In(t,r,e,n);else{if(!Cn(a))throw"unsupported src type";gn(t,r,a,e),u=a.width,i=a.height}else jn(t,r,e);return Tn(e)&&wn(t,r,e,u,i,c,s),Fn(t,r,e),r}function Dn(t,e,n,r,o){r=r||n.width,o=o||n.height;const u=n.target||t.TEXTURE_2D;t.bindTexture(u,e);const i=n.level||0,c=n.internalFormat||n.format||t.RGBA,f=nn(c),s=n.format||f.format;let a;const l=n.src;if(a=l&&(Qe(l)||Array.isArray(l)&&"number"==typeof l[0])?n.type||fn(t,l,f.type):n.type||f.type,u===t.TEXTURE_CUBE_MAP)for(let e=0;e<6;++e)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,c,r,o,0,s,a,null);else t.texImage2D(u,i,c,r,o,0,s,a,null)}function Ln(t,e,n){n=n||vn;let r=0;const o=[],u={},i={};function c(){0===r&&setTimeout(function(){n(o.length?o:void 0,u,i)},0)}return Object.keys(e).forEach(function(n){const f=e[n];let s;var a;("string"==typeof(a=f.src)||Array.isArray(a)&&"string"==typeof a[0])&&(s=function(t,e,u){i[n]=u,--r,t&&o.push(t),c()},++r),u[n]=kn(t,f,s)}),c(),u}const Vn=Ft,Gn=At,Xn="undefined"!=typeof document&&document.getElementById?document.getElementById.bind(document):function(){return null},Nn={};function Wn(t,e){return Nn[e].bindPoint}function Yn(t,e){return function(n){t.uniform1i(e,n)}}function qn(t,e){return function(n){t.uniform1iv(e,n)}}function Hn(t,e){return function(n){t.uniform2iv(e,n)}}function Qn(t,e){return function(n){t.uniform3iv(e,n)}}function Zn(t,e){return function(n){t.uniform4iv(e,n)}}function $n(t,e,n,r){const o=Wn(0,e);return We(t)?function(e){let u,i;vt(t,e)?(u=e,i=null):(u=e.texture,i=e.sampler),t.uniform1i(r,n),t.activeTexture(t.TEXTURE0+n),t.bindTexture(o,u),t.bindSampler(n,i)}:function(e){t.uniform1i(r,n),t.activeTexture(t.TEXTURE0+n),t.bindTexture(o,e)}}function Kn(t,e,n,r,o){const u=Wn(0,e),i=new Int32Array(o);for(let t=0;t<o;++t)i[t]=n+t;return We(t)?function(e){t.uniform1iv(r,i),e.forEach(function(e,r){let o,c;t.activeTexture(t.TEXTURE0+i[r]),vt(t,e)?(o=e,c=null):(o=e.texture,c=e.sampler),t.bindSampler(n,c),t.bindTexture(u,o)})}:function(e){t.uniform1iv(r,i),e.forEach(function(e,n){t.activeTexture(t.TEXTURE0+i[n]),t.bindTexture(u,e)})}}function Jn(t,e){return function(n){n.value?(t.disableVertexAttribArray(e),t.vertexAttrib4fv(e,n.value)):(t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||t.FLOAT,n.normalize||!1,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor))}}function tr(t,e){return function(n){n.value?(t.disableVertexAttribArray(e),t.vertexAttrib4iv(e,n.value)):(t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||t.INT,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor))}}function er(t,e){return function(n){n.value?(t.disableVertexAttribArray(e),t.vertexAttrib4uiv(e,n.value)):(t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||t.UNSIGNED_INT,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor))}}function nr(t,e,n){const r=n.size,o=n.count;return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer);const u=n.size||n.numComponents||r,i=u/o,c=n.type||t.FLOAT,f=Nn[c].size*u,s=n.normalize||!1,a=n.offset||0,l=f/o;for(let r=0;r<o;++r)t.enableVertexAttribArray(e+r),t.vertexAttribPointer(e+r,i,c,s,f,a+l*r),void 0!==n.divisor&&t.vertexAttribDivisor(e+r,n.divisor)}}Nn[5126]={Type:Float32Array,size:4,setter:function(t,e){return function(n){t.uniform1f(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1fv(e,n)}}},Nn[35664]={Type:Float32Array,size:8,setter:function(t,e){return function(n){t.uniform2fv(e,n)}}},Nn[35665]={Type:Float32Array,size:12,setter:function(t,e){return function(n){t.uniform3fv(e,n)}}},Nn[35666]={Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniform4fv(e,n)}}},Nn[5124]={Type:Int32Array,size:4,setter:Yn,arraySetter:qn},Nn[35667]={Type:Int32Array,size:8,setter:Hn},Nn[35668]={Type:Int32Array,size:12,setter:Qn},Nn[35669]={Type:Int32Array,size:16,setter:Zn},Nn[5125]={Type:Uint32Array,size:4,setter:function(t,e){return function(n){t.uniform1ui(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1uiv(e,n)}}},Nn[36294]={Type:Uint32Array,size:8,setter:function(t,e){return function(n){t.uniform2uiv(e,n)}}},Nn[36295]={Type:Uint32Array,size:12,setter:function(t,e){return function(n){t.uniform3uiv(e,n)}}},Nn[36296]={Type:Uint32Array,size:16,setter:function(t,e){return function(n){t.uniform4uiv(e,n)}}},Nn[35670]={Type:Uint32Array,size:4,setter:Yn,arraySetter:qn},Nn[35671]={Type:Uint32Array,size:8,setter:Hn},Nn[35672]={Type:Uint32Array,size:12,setter:Qn},Nn[35673]={Type:Uint32Array,size:16,setter:Zn},Nn[35674]={Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}},Nn[35675]={Type:Float32Array,size:36,setter:function(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}},Nn[35676]={Type:Float32Array,size:64,setter:function(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}},Nn[35685]={Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}},Nn[35686]={Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}},Nn[35687]={Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}},Nn[35688]={Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}},Nn[35689]={Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}},Nn[35690]={Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}},Nn[35678]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:3553},Nn[35680]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:34067},Nn[35679]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:32879},Nn[35682]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:3553},Nn[36289]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:35866},Nn[36292]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:35866},Nn[36293]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:34067},Nn[36298]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:3553},Nn[36299]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:32879},Nn[36300]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:34067},Nn[36303]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:35866},Nn[36306]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:3553},Nn[36307]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:32879},Nn[36308]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:34067},Nn[36311]={Type:null,size:0,setter:$n,arraySetter:Kn,bindPoint:35866};const rr={};rr[5126]={size:4,setter:Jn},rr[35664]={size:8,setter:Jn},rr[35665]={size:12,setter:Jn},rr[35666]={size:16,setter:Jn},rr[5124]={size:4,setter:tr},rr[35667]={size:8,setter:tr},rr[35668]={size:12,setter:tr},rr[35669]={size:16,setter:tr},rr[5125]={size:4,setter:er},rr[36294]={size:8,setter:er},rr[36295]={size:12,setter:er},rr[36296]={size:16,setter:er},rr[35670]={size:4,setter:tr},rr[35671]={size:8,setter:tr},rr[35672]={size:12,setter:tr},rr[35673]={size:16,setter:tr},rr[35674]={size:4,setter:nr,count:2},rr[35675]={size:9,setter:nr,count:3},rr[35676]={size:16,setter:nr,count:4};const or=/^[ \t]*\n/;function ur(t,e,n,r){const o=r||Vn,u=t.createShader(n);let i=0;if(or.test(e)&&(i=1,e=e.replace(or,"")),t.shaderSource(u,e),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS)){const n=t.getShaderInfoLog(u);return o(function(t,e){return e=e||0,++e,t.split("\n").map(function(t,n){return n+e+": "+t}).join("\n")}(e,i)+"\n*** Error compiling shader: "+n),t.deleteShader(u),null}return u}function ir(t,e,n){let r;if("function"==typeof e&&(n=e,e=void 0),"function"==typeof t)n=t,t=void 0;else if(t&&!Array.isArray(t)){if(t.errorCallback)return t;const e=t;n=e.errorCallback,t=e.attribLocations,r=e.transformFeedbackVaryings}const o={errorCallback:n||Vn,transformFeedbackVaryings:r};if(t){let n={};Array.isArray(t)?t.forEach(function(t,r){n[t]=e?e[r]:r}):n=t,o.attribLocations=n}return o}const cr=["VERTEX_SHADER","FRAGMENT_SHADER"];function fr(t,e){return e.indexOf("frag")>=0?t.FRAGMENT_SHADER:e.indexOf("vert")>=0?t.VERTEX_SHADER:void 0}function sr(t,e){e.forEach(function(e){t.deleteShader(e)})}function ar(t,e,n,r,o){const u=ir(n,r,o),i=[],c=[];for(let n=0;n<e.length;++n){let r=e[n];if("string"==typeof r){const e=Xn(r),o=e?e.text:r;let i=t[cr[n]];e&&e.type&&(i=fr(t,e.type)||i),r=ur(t,o,i,u.errorCallback),c.push(r)}gt(t,r)&&i.push(r)}if(i.length!==e.length)return u.errorCallback("not enough shaders for program"),sr(t,c),null;const f=t.createProgram();i.forEach(function(e){t.attachShader(f,e)}),u.attribLocations&&Object.keys(u.attribLocations).forEach(function(e){t.bindAttribLocation(f,u.attribLocations[e],e)});let s=u.transformFeedbackVaryings;if(s&&(s.attribs&&(s=s.attribs),Array.isArray(s)||(s=Object.keys(s)),t.transformFeedbackVaryings(f,s,u.transformFeedbackMode||t.SEPARATE_ATTRIBS)),t.linkProgram(f),!t.getProgramParameter(f,t.LINK_STATUS)){const e=t.getProgramInfoLog(f);return u.errorCallback("Error in program linking:"+e),t.deleteProgram(f),sr(t,c),null}return f}function lr(t,e,n,r){let o="";const u=Xn(e);if(!u)throw"*** Error: unknown script element"+e;o=u.text;const i=n||fr(t,u.type);if(!i)throw"*** Error: unknown shader type";return ur(t,o,i,r)}function yr(t,e,n,r,o){const u=ir(n,r,o),i=[];for(let n=0;n<e.length;++n){const r=lr(t,e[n],t[cr[n]],u.errorCallback);if(!r)return null;i.push(r)}return ar(t,i,u)}function mr(t,e,n,r,o){const u=ir(n,r,o),i=[];for(let n=0;n<e.length;++n){const r=ur(t,e[n],t[cr[n]],u.errorCallback);if(!r)return null;i.push(r)}return ar(t,i,u)}function br(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}function dr(t,e){let n=0;function r(e,r){const o=t.getUniformLocation(e,r.name),u=r.size>1&&"[0]"===r.name.substr(-3),i=r.type,c=Nn[i];if(!c)throw"unknown type: 0x"+i.toString(16);let f;if(c.bindPoint){const e=n;n+=r.size,f=u?c.arraySetter(t,i,e,o,r.size):c.setter(t,i,e,o,r.size)}else f=c.arraySetter&&u?c.arraySetter(t,o):c.setter(t,o);return f.location=o,f}const o={},u=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let n=0;n<u;++n){const u=t.getActiveUniform(e,n);if(br(u))continue;let i=u.name;"[0]"===i.substr(-3)&&(i=i.substr(0,i.length-3));const c=r(e,u);o[i]=c}return o}function pr(t,e){const n={},r=t.getProgramParameter(e,t.TRANSFORM_FEEDBACK_VARYINGS);for(let o=0;o<r;++o){const r=t.getTransformFeedbackVarying(e,o);n[r.name]={index:o,type:r.type,size:r.size}}return n}function xr(t,e,n){e.transformFeedbackInfo&&(e=e.transformFeedbackInfo),n.attribs&&(n=n.attribs);for(const r in n){const o=e[r];if(o){const e=n[r];e.offset?t.bindBufferRange(t.TRANSFORM_FEEDBACK_BUFFER,o.index,e.buffer,e.offset,e.size):t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,o.index,e.buffer)}}}function Fr(t,e,n){const r=t.createTransformFeedback();return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r),t.useProgram(e.program),xr(t,e,n),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),function(t,e,n){e.transformFeedbackInfo&&(e=e.transformFeedbackInfo),n.attribs&&(n=n.attribs);for(const r in n){const n=e[r];n&&t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,n.index,null)}}(t,e,n),r}function Ar(t,e){const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=[],o=[];for(let u=0;u<n;++u){o.push(u),r.push({});const n=t.getActiveUniform(e,u);if(br(n))break;r[u].name=n.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(n){const u=n[0],i=n[1];t.getActiveUniforms(e,o,t[u]).forEach(function(t,e){r[e][i]=t})});const u={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORM_BLOCKS);for(let n=0;n<i;++n){const r=t.getActiveUniformBlockName(e,n),o={index:n,usedByVertexShader:t.getActiveUniformBlockParameter(e,n,t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:t.getActiveUniformBlockParameter(e,n,t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:t.getActiveUniformBlockParameter(e,n,t.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:t.getActiveUniformBlockParameter(e,n,t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};o.used=o.usedByVertexSahder||o.usedByFragmentShader,u[r]=o}return{blockSpecs:u,uniformData:r}}const hr=/\[\d+\]\.$/;function Er(t,e,n,r){const o=n.blockSpecs,u=n.uniformData,i=o[r];if(!i)return Gn("no uniform block object named:",r),{name:r,uniforms:{}};const c=new ArrayBuffer(i.size),f=t.createBuffer(),s=i.index;t.bindBuffer(t.UNIFORM_BUFFER,f),t.uniformBlockBinding(e,i.index,s);let a=r+".";hr.test(a)&&(a=a.replace(hr,"."));const l={};return i.uniformIndices.forEach(function(t){const e=u[t],n=Nn[e.type],r=n.Type,o=e.size*n.size;let i=e.name;i.substr(0,a.length)===a&&(i=i.substr(a.length)),l[i]=new r(c,e.offset,o/r.BYTES_PER_ELEMENT)}),{name:r,array:c,asFloat:new Float32Array(c),buffer:f,uniforms:l}}function wr(t,e,n){return Er(t,e.program,e.uniformBlockSpec,n)}function Tr(t,e,n){const r=(e.uniformBlockSpec||e).blockSpecs[n.name];if(r){const e=r.index;return t.bindBufferRange(t.UNIFORM_BUFFER,e,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function Pr(t,e,n){Tr(t,e,n)&&t.bufferData(t.UNIFORM_BUFFER,n.array,t.DYNAMIC_DRAW)}function _r(t,e){const n=t.uniforms;for(const t in e){const r=n[t];if(r){const n=e[t];n.length?r.set(n):r[0]=n}}}function gr(t,e){const n=t.uniformSetters||t,r=arguments.length;for(let t=1;t<r;++t){const e=arguments[t];if(Array.isArray(e)){const t=e.length;for(let r=0;r<t;++r)gr(n,e[r])}else for(const t in e){const r=n[t];r&&r(e[t])}}}function vr(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let o=0;o<r;++o){const r=t.getActiveAttrib(e,o);if(br(r))continue;const u=t.getAttribLocation(e,r.name),i=rr[r.type],c=i.setter(t,u,i);c.location=u,n[r.name]=c}return n}function Rr(t,e){for(const n in e){const r=t[n];r&&r(e[n])}}function zr(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):(Rr(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indices))}function Cr(t,e){const n={program:e,uniformSetters:dr(t,e),attribSetters:vr(t,e)};return We(t)&&(n.uniformBlockSpec=Ar(t,e),n.transformFeedbackInfo=pr(t,e)),n}function Mr(t,e,n,r,o){const u=ir(n,r,o);let i=!0;if(e=e.map(function(t){if(t.indexOf("\n")<0){const e=Xn(t);e?t=e.text:(u.errorCallback("no element with id: "+t),i=!1)}return t}),!i)return null;const c=mr(t,e,u);return c?Cr(t,c):null}function Sr(t,e,n,r,o,u){n=void 0===n?t.TRIANGLES:n;const i=e.indices,c=e.elementType,f=void 0===r?e.numElements:r;o=void 0===o?0:o,c||i?void 0!==u?t.drawElementsInstanced(n,f,void 0===c?t.UNSIGNED_SHORT:e.elementType,o,u):t.drawElements(n,f,void 0===c?t.UNSIGNED_SHORT:e.elementType,o):void 0!==u?t.drawArraysInstanced(n,o,f,u):t.drawArrays(n,o,f)}function Ur(t,e){let n=null,r=null;e.forEach(function(e){if(!1===e.active)return;const o=e.programInfo,u=e.vertexArrayInfo||e.bufferInfo;let i=!1;const c=void 0===e.type?t.TRIANGLES:e.type;o!==n&&(n=o,t.useProgram(o.program),i=!0),(i||u!==r)&&(r&&r.vertexArrayObject&&!u.vertexArrayObject&&t.bindVertexArray(null),r=u,zr(t,o,u)),gr(o,e.uniforms),Sr(t,u,c,e.count,e.offset,e.instanceCount)}),r.vertexArrayObject&&t.bindVertexArray(null)}const Br=36064,Ir=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],Or={};Or[34041]=33306,Or[6401]=36128,Or[36168]=36128,Or[6402]=36096,Or[33189]=36096;const jr={};function kr(t,e,n,r){const o=t.FRAMEBUFFER,u=t.createFramebuffer();t.bindFramebuffer(o,u),n=n||t.drawingBufferWidth,r=r||t.drawingBufferHeight;let i=0;const c={framebuffer:u,attachments:[],width:n,height:r};return(e=e||Ir).forEach(function(e){let u=e.attachment;const f=e.format;let s=function(t){return Or[t]}(f);if(s||(s=Br+i++),!u)if(function(t){return jr[t]}(f))u=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,u),t.renderbufferStorage(t.RENDERBUFFER,f,n,r);else{const o=Object.assign({},e);o.width=n,o.height=r,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||t.LINEAR,o.mag=o.mag||o.minMag||t.LINEAR,o.wrapS=o.wrapS||o.wrap||t.CLAMP_TO_EDGE,o.wrapT=o.wrapT||o.wrap||t.CLAMP_TO_EDGE),u=kn(t,o)}if(_t(t,u))t.framebufferRenderbuffer(o,s,t.RENDERBUFFER,u);else{if(!vt(t,u))throw"unknown attachment type";t.framebufferTexture2D(o,s,e.texTarget||t.TEXTURE_2D,u,e.level||0)}c.attachments.push(u)}),c}function Dr(t,e,n,r,o){r=r||t.drawingBufferWidth,o=o||t.drawingBufferHeight,e.width=r,e.height=o,(n=n||Ir).forEach(function(n,u){const i=e.attachments[u],c=n.format;if(_t(t,i))t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,c,r,o);else{if(!vt(t,i))throw"unknown attachment type";Dn(t,i,n,r,o)}})}function Lr(t,e,n){n=n||t.FRAMEBUFFER,e?(t.bindFramebuffer(n,e.framebuffer),t.viewport(0,0,e.width,e.height)):(t.bindFramebuffer(n,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight))}function Vr(t,e,n){const r=t.createVertexArray();return t.bindVertexArray(r),e.length||(e=[e]),e.forEach(function(e){zr(t,e,n)}),t.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}function Gr(t,e,n,r){const o=t.createVertexArray();return t.bindVertexArray(o),Rr(e,n),r&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),t.bindVertexArray(null),o}function Xr(t,e,n){return Gr(t,e.attribSetters||e,n.attribs,n.indices)}jr[32854]=!0,jr[32855]=!0,jr[36194]=!0,jr[34041]=!0,jr[33189]=!0,jr[6401]=!0,jr[36168]=!0;const Nr={addExtensionsToContext:!0};function Wr(t){xt(t,Nr),Ct(t),ln(t)}const Yr=/^(.*?)_/;function qr(t,e){qe(t,0);const n=t.getExtension(e);if(n){const r={},o=Yr.exec(e)[1],u="_"+o;for(const e in n){const i=n[e],c="function"==typeof i,f=c?o:u;let s=e;e.endsWith(f)&&(s=e.substring(0,e.length-f.length)),void 0!==t[s]?c||t[s]===i||At(s,t[s],i,e):c?t[s]=function(t){return function(){return t.apply(n,arguments)}}(i):(t[s]=i,r[s]=i)}r.constructor={name:n.constructor.name},qe(r,0)}return n}const Hr=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function Qr(t){for(let e=0;e<Hr.length;++e)qr(t,Hr[e])}function Zr(t,e){return function(t,e){const n=["webgl","experimental-webgl"];let r=null;for(let o=0;o<n.length;++o)if(r=t.getContext(n[o],e)){Nr.addExtensionsToContext&&Qr(r);break}return r}(t,e)}function $r(t,e){return function(t,e){const n=["webgl2","webgl","experimental-webgl"];let r=null;for(let o=0;o<n.length;++o)if(r=t.getContext(n[o],e)){Nr.addExtensionsToContext&&Qr(r);break}return r}(t,e)}function Kr(t,e){e=e||1,e=Math.max(0,e);const n=t.clientWidth*e|0,r=t.clientHeight*e|0;return(t.width!==n||t.height!==r)&&(t.width=n,t.height=r,!0)}n.d(e,"addExtensionsToContext",function(){return Qr}),n.d(e,"getContext",function(){return $r}),n.d(e,"getWebGLContext",function(){return Zr}),n.d(e,"resizeCanvasToDisplaySize",function(){return Kr}),n.d(e,"setDefaults",function(){return Wr}),n.d(e,"createAttribsFromArrays",function(){return Lt}),n.d(e,"createBuffersFromArrays",function(){return Wt}),n.d(e,"createBufferFromArray",function(){return Nt}),n.d(e,"createBufferFromTypedArray",function(){return St}),n.d(e,"createBufferInfoFromArrays",function(){return Xt}),n.d(e,"setAttribInfoBufferFromArray",function(){return Vt}),n.d(e,"setAttributePrefix",function(){return zt}),n.d(e,"setAttributeDefaults_",function(){return Ct}),n.d(e,"getNumComponents_",function(){return kt}),n.d(e,"getArray_",function(){return Bt}),n.d(e,"drawBufferInfo",function(){return Sr}),n.d(e,"drawObjectList",function(){return Ur}),n.d(e,"bindFramebufferInfo",function(){return Lr}),n.d(e,"createFramebufferInfo",function(){return kr}),n.d(e,"resizeFramebufferInfo",function(){return Dr}),n.d(e,"createAttributeSetters",function(){return vr}),n.d(e,"createProgram",function(){return ar}),n.d(e,"createProgramFromScripts",function(){return yr}),n.d(e,"createProgramFromSources",function(){return mr}),n.d(e,"createProgramInfo",function(){return Mr}),n.d(e,"createProgramInfoFromProgram",function(){return Cr}),n.d(e,"createUniformSetters",function(){return dr}),n.d(e,"createUniformBlockSpecFromProgram",function(){return Ar}),n.d(e,"createUniformBlockInfoFromProgram",function(){return Er}),n.d(e,"createUniformBlockInfo",function(){return wr}),n.d(e,"createTransformFeedback",function(){return Fr}),n.d(e,"createTransformFeedbackInfo",function(){return pr}),n.d(e,"bindTransformFeedbackInfo",function(){return xr}),n.d(e,"setAttributes",function(){return Rr}),n.d(e,"setBuffersAndAttributes",function(){return zr}),n.d(e,"setUniforms",function(){return gr}),n.d(e,"setUniformBlock",function(){return Pr}),n.d(e,"setBlockUniforms",function(){return _r}),n.d(e,"bindUniformBlock",function(){return Tr}),n.d(e,"setTextureDefaults_",function(){return ln}),n.d(e,"createSampler",function(){return hn}),n.d(e,"createSamplers",function(){return En}),n.d(e,"setSamplerParameters",function(){return An}),n.d(e,"createTexture",function(){return kn}),n.d(e,"setEmptyTexture",function(){return jn}),n.d(e,"setTextureFromArray",function(){return On}),n.d(e,"loadTextureFromUrl",function(){return Un}),n.d(e,"setTextureFromElement",function(){return gn}),n.d(e,"setTextureFilteringForSize",function(){return wn}),n.d(e,"setTextureParameters",function(){return Fn}),n.d(e,"setDefaultTextureColor",function(){return an}),n.d(e,"createTextures",function(){return Ln}),n.d(e,"resizeTexture",function(){return Dn}),n.d(e,"canGenerateMipmap",function(){return on}),n.d(e,"canFilter",function(){return un}),n.d(e,"getNumComponentsForFormat",function(){return cn}),n.d(e,"getBytesPerElementForInternalFormat",function(){return en}),n.d(e,"getFormatAndTypeForInternalFormat",function(){return nn}),n.d(e,"getGLTypeForTypedArray",function(){return mt}),n.d(e,"getGLTypeForTypedArrayType",function(){return bt}),n.d(e,"getTypedArrayTypeForGLType",function(){return dt}),n.d(e,"isArrayBuffer",function(){return pt}),n.d(e,"glEnumToString",function(){return qe}),n.d(e,"isWebGL1",function(){return Ye}),n.d(e,"isWebGL2",function(){return We}),n.d(e,"createVertexArrayInfo",function(){return Vr}),n.d(e,"createVAOAndSetAttributes",function(){return Gr}),n.d(e,"createVAOFromBufferInfo",function(){return Xr}),n.d(e,"m4",function(){return o}),n.d(e,"v3",function(){return r}),n.d(e,"primitives",function(){return u})}])});