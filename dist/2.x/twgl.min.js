/*!
 * @license twgl.js 2.7.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.twgl=r():e.twgl=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){var n,o;n=[t(1)],o=function(e){"use strict";return e}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[t(2),t(5),t(7),t(6),t(8),t(3),t(9),t(4)],o=function(e,r,t,n,o,a,i,u){"use strict";function f(r){u.copyExistingProperties(r,d),e.setDefaults_(r),o.setDefaults_(r)}function l(e){if(e&&d.enableVertexArrayObjects&&u.isWebGL1(e)){var r=e.getExtension("OES_vertex_array_object");r&&(e.createVertexArray=function(){return r.createVertexArrayOES()},e.deleteVertexArray=function(e){r.deleteVertexArrayOES(e)},e.isVertexArray=function(e){return r.isVertexArrayOES(e)},e.bindVertexArray=function(e){r.bindVertexArrayOES(e)},e.VERTEX_ARRAY_BINDING=r.VERTEX_ARRAY_BINDING_OES)}}function s(e,r){for(var t=["webgl","experimental-webgl"],n=null,o=0;o<t.length;++o){try{n=e.getContext(t[o],r)}catch(e){}if(n)break}return n}function c(e,r){var t=s(e,r);return l(t),t}function m(e,r){for(var t=["webgl2","webgl","experimental-webgl"],n=null,o=0;o<t.length;++o){try{n=e.getContext(t[o],r)}catch(e){}if(n)break}return n}function y(e,r){var t=m(e,r);return l(t),t}function E(e,r){r=r||1,r=Math.max(1,r);var t=e.clientWidth*r|0,n=e.clientHeight*r|0;return(e.width!==t||e.height!==n)&&(e.width=t,e.height=n,!0)}function b(e){return"_"!==e[e.length-1]}function p(e,r){return Object.keys(e).filter(b).forEach(function(t){r[t]=e[t]}),r}var d={enableVertexArrayObjects:!0},A={getContext:y,getWebGLContext:c,isWebGL1:u.isWebGL1,isWebGL2:u.isWebGL2,resizeCanvasToDisplaySize:E,setDefaults:f},x={attributes:e,draw:r,framebuffers:t,programs:n,textures:o,typedArrays:a,vertexArrays:i};return Object.keys(x).forEach(function(e){var r=x[e];p(r,A),A[e]=p(r,{})}),A}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[t(3),t(4)],o=function(e,r){"use strict";function t(e){d.attribPrefix=e}function n(e){r.copyExistingProperties(e,d)}function o(e,r,t,n,o){e.bindBuffer(r,t),e.bufferData(r,n,o||e.STATIC_DRAW)}function a(e,r,t,n){if(r instanceof WebGLBuffer)return r;t=t||e.ARRAY_BUFFER;var a=e.createBuffer();return o(e,t,a,r,n),a}function i(e){return"indices"===e}function u(e){return e instanceof Int8Array||e instanceof Uint8Array}function f(e){return e.length?e:e.data}function l(e,r){var t;if(t=A.test(e)?2:x.test(e)?4:3,r%t>0)throw"Can not guess numComponents for attribute '"+e+"'. Tried "+t+" but "+r+" values is not evenly divisible by "+t+". You should specify it.";return t}function s(e,r){return e.numComponents||e.size||l(r,f(e).length)}function c(r,t){if(e.isArrayBuffer(r))return r;if(e.isArrayBuffer(r.data))return r.data;Array.isArray(r)&&(r={data:r});var n=r.type;return n||(n=i(t)?Uint16Array:Float32Array),new n(r.data)}function m(r,t){var n={};return Object.keys(t).forEach(function(o){if(!i(o)){var f=t[o],l=f.attrib||f.name||f.attribName||d.attribPrefix+o,m=c(f,o);n[l]={buffer:a(r,m,void 0,f.drawType),numComponents:s(f,o),type:e.getGLTypeForTypedArray(m),normalize:void 0!==f.normalize?f.normalize:u(m),stride:f.stride||0,offset:f.offset||0,drawType:f.drawType}}}),n}function y(e,r,t,n){t=c(t),void 0!==n?(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,t)):o(e,e.ARRAY_BUFFER,r.buffer,t,r.drawType)}function E(r,t){var n={attribs:m(r,t)},o=t.indices;return o?(o=c(o,"indices"),n.indices=a(r,o,r.ELEMENT_ARRAY_BUFFER),n.numElements=o.length,n.elementType=e.getGLTypeForTypedArray(o)):n.numElements=T(t),n}function b(e,r,t){var n="indices"===t?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,o=c(r,t);return a(e,o,n)}function p(r,t){var n={};return Object.keys(t).forEach(function(e){n[e]=b(r,t[e],e)}),t.indices?(n.numElements=t.indices.length,n.elementType=e.getGLTypeForTypedArray(c(t.indices),"indices")):n.numElements=T(t),n}var d={attribPrefix:""},A=/coord|texture/i,x=/color|colour/i,T=function(){var e=["position","positions","a_position"];return function(r){for(var t,n=0;n<e.length&&(t=e[n],!(t in r));++n);n===e.length&&(t=Object.keys(r)[0]);var o=r[t],a=f(o).length,i=s(o,t),u=a/i;if(a%i>0)throw"numComponents "+i+" not correct for length "+a;return u}}();return{createAttribsFromArrays:m,createBuffersFromArrays:p,createBufferFromArray:b,createBufferFromTypedArray:a,createBufferInfoFromArrays:E,setAttribInfoBufferFromArray:y,setAttributePrefix:t,setDefaults_:n,getNumComponents_:s,getArray_:f}}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[],o=function(){"use strict";function e(e){if(e instanceof Int8Array)return n;if(e instanceof Uint8Array)return o;if(e instanceof Uint8ClampedArray)return o;if(e instanceof Int16Array)return a;if(e instanceof Uint16Array)return i;if(e instanceof Int32Array)return u;if(e instanceof Uint32Array)return f;if(e instanceof Float32Array)return l;throw"unsupported typed array type"}function r(e){var r=x[e];if(!r)throw"unknown gl type";return r}function t(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer}var n=5120,o=5121,a=5122,i=5123,u=5124,f=5125,l=5126,s=32819,c=32820,m=33635,y=5131,E=33640,b=35899,p=35902,d=36269,A=34042,x={},T=x;return T[n]=Int8Array,T[o]=Uint8Array,T[a]=Int16Array,T[i]=Uint16Array,T[u]=Int32Array,T[f]=Uint32Array,T[l]=Float32Array,T[s]=Uint16Array,T[c]=Uint16Array,T[m]=Uint16Array,T[y]=Uint16Array,T[E]=Uint32Array,T[b]=Uint32Array,T[p]=Uint32Array,T[d]=Uint32Array,T[A]=Uint32Array,{getGLTypeForTypedArray:e,getTypedArrayTypeForGLType:r,isArrayBuffer:t}}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[],o=function(){"use strict";function e(e){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function r(e,r,t){e.forEach(function(e){var n=r[e];void 0!==n&&(t[e]=n)})}function t(e,r){Object.keys(r).forEach(function(t){r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r[t]=e[t])})}function n(e){return!!e.texStorage2D}function o(e){return!e.texStorage2D}var a=window.console&&window.console.error&&"function"==typeof window.console.error?window.console.error.bind(window.console):function(){},i=window.console&&window.console.warn&&"function"==typeof window.console.warn?window.console.warn.bind(window.console):function(){};return{copyExistingProperties:t,copyNamedProperties:r,shallowCopy:e,isWebGL1:o,isWebGL2:n,error:a,warn:i}}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[t(6)],o=function(e){"use strict";function r(e,r,t,n,o){t=void 0===t?e.TRIANGLES:t;var a=r.indices,i=r.elementType,u=void 0===n?r.numElements:n;o=void 0===o?0:o,i||a?e.drawElements(t,u,void 0===i?e.UNSIGNED_SHORT:r.elementType,o):e.drawArrays(t,o,u)}function t(t,n){var o=null,a=null;n.forEach(function(n){if(n.active!==!1){var i=n.programInfo,u=n.vertexArrayInfo||n.bufferInfo,f=!1,l=void 0===n.type?t.TRIANGLES:n.type;i!==o&&(o=i,t.useProgram(i.program),f=!0),(f||u!==a)&&(a&&a.vertexArrayObject&&!u.vertexArrayObject&&t.bindVertexArray(null),a=u,e.setBuffersAndAttributes(t,i,u)),e.setUniforms(i,n.uniforms),r(t,u,l,n.count,n.offset)}}),a.vertexArrayObject&&t.bindVertexArray(null)}return{drawBufferInfo:r,drawObjectList:t}}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[t(4)],o=function(e){"use strict";function r(e,r){return Ve[r].bindPoint}function t(e,r){return function(t){e.uniform1f(r,t)}}function n(e,r){return function(t){e.uniform1fv(r,t)}}function o(e,r){return function(t){e.uniform2fv(r,t)}}function a(e,r){return function(t){e.uniform3fv(r,t)}}function i(e,r){return function(t){e.uniform4fv(r,t)}}function u(e,r){return function(t){e.uniform1i(r,t)}}function f(e,r){return function(t){e.uniform1iv(r,t)}}function l(e,r){return function(t){e.uniform2iv(r,t)}}function s(e,r){return function(t){e.uniform3iv(r,t)}}function c(e,r){return function(t){e.uniform4iv(r,t)}}function m(e,r){return function(t){e.uniform1ui(r,t)}}function y(e,r){return function(t){e.uniform1uiv(r,t)}}function E(e,r){return function(t){e.uniform2uiv(r,t)}}function b(e,r){return function(t){e.uniform3uiv(r,t)}}function p(e,r){return function(t){e.uniform4uiv(r,t)}}function d(e,r){return function(t){e.uniformMatrix2fv(r,!1,t)}}function A(e,r){return function(t){e.uniformMatrix3fv(r,!1,t)}}function x(e,r){return function(t){e.uniformMatrix4fv(r,!1,t)}}function T(e,r){return function(t){e.uniformMatrix2x3fv(r,!1,t)}}function v(e,r){return function(t){e.uniformMatrix3x2fv(r,!1,t)}}function R(e,r){return function(t){e.uniformMatrix2x4fv(r,!1,t)}}function F(e,r){return function(t){e.uniformMatrix4x2fv(r,!1,t)}}function _(e,r){return function(t){e.uniformMatrix3x4fv(r,!1,t)}}function h(e,r){return function(t){e.uniformMatrix4x3fv(r,!1,t)}}function g(e,t,n,o){var a=r(e,t);return function(r){var t=void 0;r instanceof WebGLTexture?t=r:(t=r.texture,e.bindSampler(n,r.sampler)),e.uniform1i(o,n),e.activeTexture(e.TEXTURE0+n),e.bindTexture(a,t)}}function P(e,t,n,o,a){for(var i=r(e,t),u=new Int32Array(a),f=0;f<a;++f)u[f]=n+f;return function(r){e.uniform1iv(o,u),r.forEach(function(r,t){e.activeTexture(e.TEXTURE0+u[t]);var o=void 0;r instanceof WebGLTexture?o=r:(o=r.texture,e.bindSampler(n,r.sampler)),e.bindTexture(i,o)})}}function U(e,r){return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,t.numComponents||t.size,t.type||e.FLOAT,t.normalize||!1,t.stride||0,t.offset||0)}}function w(e,r){return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||e.INT,t.stride||0,t.offset||0)}}function B(e,r,t){var n=t.size,o=t.count;return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer);for(var a=t.size||t.numComponents||n,i=a/o,u=t.type||e.FLOAT,f=Ve[u],l=f.size*a,s=t.normalize||!1,c=t.offset||0,m=l/o,y=0;y<o;++y)e.enableVertexAttribArray(r+y),e.vertexAttribPointer(r+y,i,u,s,l,c+m*y)}}function I(e,r){return r=r||0,++r,e.split("\n").map(function(e,t){return t+r+": "+e}).join("\n")}function S(e,r,t,n){var o=n||$,a=e.createShader(t),i=0;Ye.test(r)&&(i=1,r=r.replace(Ye,"")),e.shaderSource(a,r),e.compileShader(a);var u=e.getShaderParameter(a,e.COMPILE_STATUS);if(!u){var f=e.getShaderInfoLog(a);return o(I(r,i)+"\n*** Error compiling shader: "+f),e.deleteShader(a),null}return a}function C(e,r,t){if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var n=e;t=n.errorCallback,e=n.attribLocations}var o={errorCallback:t||$};if(e){var a={};Array.isArray(e)?e.forEach(function(e,t){a[e]=r?r[t]:t}):a=e,o.attribLocations=a}return o}function L(e,r,t,n,o){var a=C(t,n,o),i=e.createProgram();r.forEach(function(r){e.attachShader(i,r)}),a.attribLocations&&Object.keys(a.attribLocations).forEach(function(r){e.bindAttribLocation(i,a.attribLocations[r],r)}),e.linkProgram(i);var u=e.getProgramParameter(i,e.LINK_STATUS);if(!u){var f=e.getProgramInfoLog(i);return a.errorCallback("Error in program linking:"+f),e.deleteProgram(i),null}return i}function O(e,r,t,n){var o,a="",i=document.getElementById(r);if(!i)throw"*** Error: unknown script element"+r;if(a=i.text,!t)if("x-shader/x-vertex"===i.type)o=e.VERTEX_SHADER;else if("x-shader/x-fragment"===i.type)o=e.FRAGMENT_SHADER;else if(o!==e.VERTEX_SHADER&&o!==e.FRAGMENT_SHADER)throw"*** Error: unknown shader type";return S(e,a,t?t:o,n)}function N(e,r,t,n,o){for(var a=C(t,n,o),i=[],u=0;u<r.length;++u){var f=O(e,r[u],e[je[u]],a.errorCallback);if(!f)return null;i.push(f)}return L(e,i,a)}function M(e,r,t,n,o){for(var a=C(t,n,o),i=[],u=0;u<r.length;++u){var f=S(e,r[u],e[je[u]],a.errorCallback);if(!f)return null;i.push(f)}return L(e,i,a)}function z(e,r){function t(r,t){var o=e.getUniformLocation(r,t.name),a=t.size>1&&"[0]"===t.name.substr(-3),i=t.type,u=Ve[i];if(!u)throw"unknown type: 0x"+i.toString(16);if(u.bindPoint){var f=n;return n+=t.size,a?u.arraySetter(e,i,f,o,t.size):u.setter(e,i,f,o,t.size)}return u.arraySetter&&a?u.arraySetter(e,o):u.setter(e,o)}for(var n=0,o={},a=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),i=0;i<a;++i){var u=e.getActiveUniform(r,i);if(!u)break;var f=u.name;"[0]"===f.substr(-3)&&(f=f.substr(0,f.length-3));var l=t(r,u);o[f]=l}return o}function D(e,r){for(var t=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),n=[],o=[],a=0;a<t;++a){o.push(a),n.push({});var i=e.getActiveUniform(r,a);if(!i)break;n[a].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(t){var a=t[0],i=t[1];e.getActiveUniforms(r,o,e[a]).forEach(function(e,r){n[r][i]=e})});var u={},f=e.getProgramParameter(r,e.ACTIVE_UNIFORM_BLOCKS);for(a=0;a<f;++a){var l=e.getActiveUniformBlockName(r,a),s={index:a,usedByVertexShader:e.getActiveUniformBlockParameter(r,a,e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:e.getActiveUniformBlockParameter(r,a,e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:e.getActiveUniformBlockParameter(r,a,e.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:e.getActiveUniformBlockParameter(r,a,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};s.used=s.usedByVertexSahder||s.usedByFragmentShader,u[l]=s}return{blockSpecs:u,uniformData:n}}function G(e,r,t,n){var o=t.blockSpecs,a=t.uniformData,i=o[n];if(!i)return J("no uniform block object named:",n),{name:n,uniforms:{}};var u=new ArrayBuffer(i.size),f=e.createBuffer(),l=i.index;e.bindBuffer(e.UNIFORM_BUFFER,f),e.uniformBlockBinding(r,i.index,l);var s=n+".";He.test(s)&&(s=s.replace(He,"."));var c={};return i.uniformIndices.forEach(function(e){var r=a[e],t=Ve[r.type],n=t.Type,o=r.size*t.size,i=r.name;i.substr(0,s.length)===s&&(i=i.substr(s.length)),c[i]=new n(u,r.offset,o/n.BYTES_PER_ELEMENT)}),{name:n,array:u,asFloat:new Float32Array(u),buffer:f,uniforms:c}}function X(e,r,t){return G(e,r.program,r.uniformBlockSpec,t)}function k(e,r,t){var n=r.uniformBlockSpec||r,o=n.blockSpecs[t.name];if(o){var a=o.index;return e.bindBufferRange(e.UNIFORM_BUFFER,a,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function V(e,r,t){k(e,r,t)&&e.bufferData(e.UNIFORM_BUFFER,t.array,e.DYNAMIC_DRAW)}function W(e,r){var t=e.uniforms;for(var n in r){var o=t[n];if(o){var a=r[n];a.length?o.set(a):o[0]=a}}}function Y(e,r){for(var t=e.uniformSetters||e,n=arguments.length,o=1;o<n;++o){var a=arguments[o];if(Array.isArray(a))for(var i=a.length,u=0;u<i;++u)Y(t,a[u]);else for(var f in a){var l=t[f];l&&l(a[f])}}}function j(e,r){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),o=0;o<n;++o){var a=e.getActiveAttrib(r,o);if(!a)break;var i=e.getAttribLocation(r,a.name),u=We[a.type];t[a.name]=u.setter(e,i,u)}return t}function H(e,r){for(var t in r){var n=e[t];n&&n(r[t])}}function K(e,r,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(H(r.attribSetters||r,t.attribs),t.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indices))}function Z(r,t){var n=z(r,t),o=j(r,t),a={program:t,uniformSetters:n,attribSetters:o};return e.isWebGL2(r)&&(a.uniformBlockSpec=D(r,t)),a}function q(e,r,t,n,o){var a=C(t,n,o),i=!0;if(r=r.map(function(e){if(e.indexOf("\n")<0){var r=document.getElementById(e);r?e=r.text:(a.errorCallback("no element with id: "+e),i=!1)}return e}),!i)return null;var u=M(e,r,a);return u?Z(e,u):null}var $=e.error,J=e.warn,Q=5126,ee=35664,re=35665,te=35666,ne=5124,oe=35667,ae=35668,ie=35669,ue=35670,fe=35671,le=35672,se=35673,ce=35674,me=35675,ye=35676,Ee=35678,be=35680,pe=35679,de=35682,Ae=35685,xe=35686,Te=35687,ve=35688,Re=35689,Fe=35690,_e=36289,he=36292,ge=36293,Pe=5125,Ue=36294,we=36295,Be=36296,Ie=36298,Se=36299,Ce=36300,Le=36303,Oe=36306,Ne=36307,Me=36308,ze=36311,De=3553,Ge=34067,Xe=32879,ke=35866,Ve={};Ve[Q]={Type:Float32Array,size:4,setter:t,arraySetter:n},Ve[ee]={Type:Float32Array,size:8,setter:o},Ve[re]={Type:Float32Array,size:12,setter:a},Ve[te]={Type:Float32Array,size:16,setter:i},Ve[ne]={Type:Int32Array,size:4,setter:u,arraySetter:f},Ve[oe]={Type:Int32Array,size:8,setter:l},Ve[ae]={Type:Int32Array,size:12,setter:s},Ve[ie]={Type:Int32Array,size:16,setter:c},Ve[Pe]={Type:Uint32Array,size:4,setter:m,arraySetter:y},Ve[Ue]={Type:Uint32Array,size:8,setter:E},Ve[we]={Type:Uint32Array,size:12,setter:b},Ve[Be]={Type:Uint32Array,size:16,setter:p},Ve[ue]={Type:Uint32Array,size:4,setter:u,arraySetter:f},Ve[fe]={Type:Uint32Array,size:8,setter:l},Ve[le]={Type:Uint32Array,size:12,setter:s},Ve[se]={Type:Uint32Array,size:16,setter:c},Ve[ce]={Type:Float32Array,size:16,setter:d},Ve[me]={Type:Float32Array,size:36,setter:A},Ve[ye]={Type:Float32Array,size:64,setter:x},Ve[Ae]={Type:Float32Array,size:24,setter:T},Ve[xe]={Type:Float32Array,size:32,setter:R},Ve[Te]={Type:Float32Array,size:24,setter:v},Ve[ve]={Type:Float32Array,size:48,setter:_},Ve[Re]={Type:Float32Array,size:32,setter:F},Ve[Fe]={Type:Float32Array,size:48,setter:h},Ve[Ee]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:De},Ve[be]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ge},Ve[pe]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Xe},Ve[de]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:De},Ve[_e]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:ke},Ve[he]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:ke},Ve[ge]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ge},Ve[Ie]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:De},Ve[Se]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Xe},Ve[Ce]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ge},Ve[Le]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:ke},Ve[Oe]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:De},Ve[Ne]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Xe},Ve[Me]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ge},Ve[ze]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:ke};var We={};We[Q]={size:4,setter:U},We[ee]={size:8,setter:U},We[re]={size:12,setter:U},We[te]={size:16,setter:U},We[ne]={size:4,setter:w},We[oe]={size:8,setter:w},We[ae]={size:12,setter:w},We[ie]={size:16,setter:w},We[Pe]={size:4,setter:w},We[Ue]={size:8,setter:w},We[we]={size:12,setter:w},We[Be]={size:16,setter:w},We[ue]={size:4,setter:w},We[fe]={size:8,setter:w},We[le]={size:12,setter:w},We[se]={size:16,setter:w},We[ce]={size:4,setter:B,count:2},We[me]={size:9,setter:B,count:3},We[ye]={size:16,setter:B,count:4};var Ye=/^[ \t]*\n/,je=["VERTEX_SHADER","FRAGMENT_SHADER"],He=/\[\d+\]\.$/;return{createAttributeSetters:j,createProgram:L,createProgramFromScripts:N,createProgramFromSources:M,createProgramInfo:q,createProgramInfoFromProgram:Z,createUniformSetters:z,createUniformBlockSpecFromProgram:D,createUniformBlockInfoFromProgram:G,createUniformBlockInfo:X,setAttributes:H,setBuffersAndAttributes:K,setUniforms:Y,setUniformBlock:V,setBlockUniforms:W,bindUniformBlock:k}}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[t(8),t(4)],o=function(e,r){"use strict";function t(e){return _[e]}function n(e){return h[e]}function o(o,a,i,u){var f=o.FRAMEBUFFER,l=o.createFramebuffer();o.bindFramebuffer(f,l),i=i||o.drawingBufferWidth,u=u||o.drawingBufferHeight,a=a||F;var s=0,c={framebuffer:l,attachments:[],width:i,height:u};return a.forEach(function(a){var l=a.attachment,m=a.format,y=t(m);if(y||(y=d+s++),!l)if(n(m))l=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,l),o.renderbufferStorage(o.RENDERBUFFER,m,i,u);else{var E=r.shallowCopy(a);E.width=i,E.height=u,void 0===E.auto&&(E.auto=!1,E.min=E.min||o.LINEAR,E.mag=E.mag||o.LINEAR,E.wrapS=E.wrapS||E.wrap||o.CLAMP_TO_EDGE,E.wrapT=E.wrapT||E.wrap||o.CLAMP_TO_EDGE),l=e.createTexture(o,E)}if(l instanceof WebGLRenderbuffer)o.framebufferRenderbuffer(f,y,o.RENDERBUFFER,l);else{if(!(l instanceof WebGLTexture))throw"unknown attachment type";o.framebufferTexture2D(f,y,a.texTarget||o.TEXTURE_2D,l,a.level||0)}c.attachments.push(l)}),c}function a(r,t,n,o,a){o=o||r.drawingBufferWidth,a=a||r.drawingBufferHeight,t.width=o,t.height=a,n=n||F,n.forEach(function(n,i){var u=t.attachments[i],f=n.format;if(u instanceof WebGLRenderbuffer)r.bindRenderbuffer(r.RENDERBUFFER,u),r.renderbufferStorage(r.RENDERBUFFER,f,o,a);else{if(!(u instanceof WebGLTexture))throw"unknown attachment type";e.resizeTexture(r,u,n,o,a)}})}function i(e,r,t){t=t||e.FRAMEBUFFER,r?(e.bindFramebuffer(t,r.framebuffer),e.viewport(0,0,r.width,r.height)):(e.bindFramebuffer(t,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))}var u=5121,f=6402,l=6408,s=32854,c=32855,m=36194,y=33189,E=6401,b=36168,p=34041,d=36064,A=36096,x=36128,T=33306,v=33071,R=9729,F=[{format:l,type:u,min:R,wrap:v},{format:p}],_={};_[p]=T,_[E]=x,_[b]=x,_[f]=A,_[y]=A;var h={};return h[s]=!0,h[c]=!0,h[m]=!0,h[p]=!0,h[y]=!0,h[E]=!0,h[b]=!0,{bindFramebufferInfo:i,createFramebufferInfo:o,resizeFramebufferInfo:a}}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[t(3),t(4)],o=function(e,r){"use strict";function t(e,r){var t=yr[e];if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function n(e){var r=yr[e];if(!r)throw"unknown internal format";return{format:r.e,type:Array.isArray(r.type)?r.type[0]:r.type}}function o(e){return 0===(e&e-1)}function a(e,t,n,a){if(!r.isWebGL2(e))return o(t)&&o(n);var i=yr[a];if(!i)throw"unknown internal format";return i.r&&i.t}function i(e){var r=yr[e];if(!r)throw"unknown internal format";return r.t}function u(e){L.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function f(e){r.copyExistingProperties(e,L),e.textureColor&&u(e.textureColor)}function l(e,r){void 0!==r.colorspaceConversion&&(br.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.colorspaceConversion)),void 0!==r.premultiplyAlpha&&(br.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha)),void 0!==r.flipY&&(br.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY))}function s(e,r){void 0!==r.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,br.colorspaceConversion),void 0!==r.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,br.premultiplyAlpha),void 0!==r.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,br.flipY)}function c(e,r,t,n){n.minMag&&(t.call(e,r,e.TEXTURE_MIN_FILTER,n.minMag),t.call(e,r,e.TEXTURE_MAG_FILTER,n.minMag)),n.min&&t.call(e,r,e.TEXTURE_MIN_FILTER,n.min),n.mag&&t.call(e,r,e.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(t.call(e,r,e.TEXTURE_WRAP_S,n.wrap),t.call(e,r,e.TEXTURE_WRAP_T,n.wrap),(r===e.TEXTURE_3D||r instanceof WebGLSampler)&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&t.call(e,r,e.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&t.call(e,r,e.TEXTURE_WRAP_T,n.wrapT),n.minLod&&t.call(e,r,e.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&t.call(e,r,e.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&t.call(e,r,e.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&t.call(e,r,e.TEXTURE_MAX_LEVEL,n.maxLevel)}function m(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r),c(e,n,e.texParameteri,t)}function y(e,r,t){c(e,r,e.samplerParameteri,t)}function E(e,r){var t=e.createSampler();return y(e,t,r),t}function b(e,r){var t={};return Object.keys(r).forEach(function(n){t[n]=E(e,r[n])}),t}function p(e){return e=e||L.textureColor,O(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function d(e,r,t,n,o,u,f){t=t||L.textureOptions,u=u||e.RGBA,f=f||e.UNSIGNED_BYTE;var l=t.target||e.TEXTURE_2D;if(n=n||t.width,o=o||t.height,e.bindTexture(l,r),a(e,n,o,u,f))e.generateMipmap(l);else{var s=i(u,f)?e.LINEAR:e.NEAREST;e.texParameteri(l,e.TEXTURE_MIN_FILTER,s),e.texParameteri(l,e.TEXTURE_MAG_FILTER,s),e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function A(e,r){return r=r||{},r.cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function x(e,r){var t=A(e,r),n=t.map(function(e,r){return{face:e,ndx:r}});return n.sort(function(e,r){return e.face-r.face}),n}function T(){}function v(e,t,n){function o(){u.removeEventListener("error",a),u.removeEventListener("load",i),u=null}function a(){var t="couldn't load image: "+e;r.error(t),n(t,u),o()}function i(){n(null,u),o()}n=n||T;var u=new Image;return t=void 0!==t?t:L.crossOrigin,void 0!==t&&(u.crossOrigin=t),u.addEventListener("error",a),u.addEventListener("load",i),u.src=e,u}function R(e,r,t){t=t||L.textureOptions;var n=t.target||e.TEXTURE_2D;if(e.bindTexture(n,r),t.color!==!1){var o=p(t.color);if(n===e.TEXTURE_CUBE_MAP)for(var a=0;a<6;++a)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);else n===e.TEXTURE_3D?e.texImage3D(n,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o)}}function F(e,t,n,o){o=o||T,n=n||L.textureOptions,R(e,t,n),n=r.shallowCopy(n);var a=v(n.src,n.crossOrigin,function(r,a){r?o(r,t,a):(pr(e,t,a,n),o(null,t,a))});return a}function _(e,t,n,o){function a(r){return function(a,i){--y,a?E.push(a):i.width!==i.height?E.push("cubemap face img is not a square: "+i.src):(l(e,n),e.bindTexture(c,t),5===y?A(e).forEach(function(r){e.texImage2D(r,0,u,u,f,i)}):e.texImage2D(r,0,u,u,f,i),s(e,n),e.generateMipmap(c)),0===y&&o(E.length?E:void 0,m,t)}}o=o||T;var i=n.src;if(6!==i.length)throw"there must be 6 urls for a cubemap";var u=n.format||e.RGBA,f=n.type||e.UNSIGNED_BYTE,c=n.target||e.TEXTURE_2D;if(c!==e.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";R(e,t,n),n=r.shallowCopy(n);var m,y=6,E=[],b=A(e,n);m=i.map(function(e,r){return v(e,n.crossOrigin,a(b[r]))})}function h(e){var r=cr[e];if(!r)throw"unknown format: "+e;return r.n}function g(r,t,n){return O(t)?e.getGLTypeForTypedArray(t):n||r.UNSIGNED_BYTE}function P(e,r,t,n,o){if(o%1!==0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=o/n,t%1))throw"can't guess dimensions"}else if(n=o/t,n%1)throw"can't guess dimensions"}else{var a=Math.sqrt(o/(r===e.TEXTURE_CUBE_MAP?6:1));a%1===0?(t=a,n=a):(t=o,n=1)}return{width:t,height:n}}function U(r,o,a,i){i=i||L.textureOptions;var u=i.target||r.TEXTURE_2D;r.bindTexture(u,o);var f=i.width,c=i.height,m=i.depth,y=i.internalFormat||i.format||r.RGBA,E=n(y),b=i.format||E.format,p=i.type||g(r,a,E.type);if(O(a))a instanceof Uint8ClampedArray&&(a=new Uint8Array(a.buffer));else{var d=e.getTypedArrayTypeForGLType(p);a=new d(a)}var A=t(y,p),T=a.byteLength/A;if(T%1)throw"length wrong size for format: "+Er(r,b);var v;if(u===r.TEXTURE_3D)if(f||c||m)!f||c&&m?!c||f&&m?(v=P(r,u,f,c,T/m),f=v.width,c=v.height):(v=P(r,u,f,m,T/c),f=v.width,m=v.height):(v=P(r,u,c,m,T/f),c=v.width,m=v.height);else{var R=Math.cbrt(T);if(R%1!==0)throw"can't guess cube size of array of numElements: "+T;f=R,c=R,m=R}else v=P(r,u,f,c,T),f=v.width,c=v.height;return r.pixelStorei(r.UNPACK_ALIGNMENT,i.unpackAlignment||1),l(r,i),u===r.TEXTURE_CUBE_MAP?!function(){var e=A/a.BYTES_PER_ELEMENT,t=T/6*e;x(r,i).forEach(function(e){var n=t*e.ndx,o=a.subarray(n,n+t);r.texImage2D(e.face,0,y,f,c,0,b,p,o)})}():u===r.TEXTURE_3D?r.texImage3D(u,0,y,f,c,m,0,b,p,a):r.texImage2D(u,0,y,f,c,0,b,p,a),s(r,i),{width:f,height:c,depth:m,type:p}}function w(e,r,t){var o=t.target||e.TEXTURE_2D;e.bindTexture(o,r);var a=t.internalFormat||t.format||e.RGBA,i=n(a),u=t.format||i.format,f=t.type||formatTYpe.type;if(l(e,t),o===e.TEXTURE_CUBE_MAP)for(var c=0;c<6;++c)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,a,t.width,t.height,0,u,f,null);else o===e.TEXTURE_3D?e.texImage3D(o,0,a,t.width,t.height,t.depth,0,u,f,null):e.texImage2D(o,0,a,t.width,t.height,0,u,f,null);s(e,t)}function B(e,r,t){t=t||T,r=r||L.textureOptions;var o=e.createTexture(),a=r.target||e.TEXTURE_2D,i=r.width||1,u=r.height||1,f=r.internalFormat||e.RGBA,l=n(f),s=r.type||l.type;e.bindTexture(a,o),a===e.TEXTURE_CUBE_MAP&&(e.texParameteri(a,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(a,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var c=r.src;if(c)if("function"==typeof c&&(c=c(e,r)),"string"==typeof c)F(e,o,r,t);else if(O(c)||Array.isArray(c)&&("number"==typeof c[0]||Array.isArray(c[0])||O(c[0]))){var y=U(e,o,c,r);i=y.width,u=y.height,s=y.type}else if(Array.isArray(c)&&"string"==typeof c[0])_(e,o,r,t);else{if(!(c instanceof HTMLElement))throw"unsupported src type";pr(e,o,c,r),i=c.width,u=c.height}else w(e,o,r);return r.auto!==!1&&d(e,o,r,i,u,f,s),m(e,o,r),o}function I(e,r,t,o,a){o=o||t.width,a=a||t.height;var i=t.target||e.TEXTURE_2D;e.bindTexture(i,r);var u,f=t.internalFormat||t.format||e.RGBA,l=n(f),s=t.format||l.format,c=t.src;if(u=c&&(O(c)||Array.isArray(c)&&"number"==typeof c[0])?t.type||g(e,c,l.type):t.type||l.type,i===e.TEXTURE_CUBE_MAP)for(var m=0;m<6;++m)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,s,o,a,0,s,u,null);else e.texImage2D(i,0,s,o,a,0,s,u,null)}function S(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]}function C(e,r,t){function n(){0===o&&setTimeout(function(){t(a.length?a:void 0,i,u)},0)}t=t||T;var o=0,a=[],i={},u={};return Object.keys(r).forEach(function(t){var f,l=r[t];S(l.src)&&(f=function(e,r,i){u[t]=i,--o,e&&a.push(e),n()},++o),i[t]=B(e,l,f)}),n(),i}var L={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},O=e.isArrayBuffer,N=6406,M=6407,z=6408,D=6409,G=6410,X=6402,k=34041,V=33321,W=36756,Y=33325,j=33326,H=33330,K=33329,Z=33338,q=33337,$=33340,J=33339,Q=33323,ee=36757,re=33327,te=33328,ne=33336,oe=33335,ae=33332,ie=33331,ue=33334,fe=33333,le=32849,se=35905,ce=36194,me=36758,ye=35898,Ee=35901,be=34843,pe=34837,de=36221,Ae=36239,xe=36215,Te=36233,ve=36209,Re=36227,Fe=32856,_e=35907,he=36759,ge=32855,Pe=32854,Ue=32857,we=34842,Be=34836,Ie=36220,Se=36238,Ce=36975,Le=36214,Oe=36232,Ne=36226,Me=36208,ze=33189,De=33190,Ge=36012,Xe=36013,ke=35056,Ve=5120,We=5121,Ye=5122,je=5123,He=5124,Ke=5125,Ze=5126,qe=32819,$e=32820,Je=33635,Qe=5131,er=33640,rr=35899,tr=35902,nr=36269,or=34042,ar=33319,ir=33320,ur=6403,fr=36244,lr=36248,sr=36249,cr={},mr=cr;mr[N]={n:1},mr[D]={n:1},mr[G]={n:2},mr[M]={n:3},mr[z]={n:4},mr[ur]={n:1},mr[fr]={n:1},mr[ar]={n:2},mr[ir]={n:2},mr[M]={n:3},mr[lr]={n:3},mr[z]={n:4},mr[sr]={n:4},mr[X]={n:1},mr[k]={n:2};var yr={};!function(){var e=yr;e[N]={e:N,r:!0,t:!0,o:[1,2,4],type:[We,Qe,Ze]},e[D]={e:D,r:!0,t:!0,o:[1,2,4],type:[We,Qe,Ze]},e[G]={e:G,r:!0,t:!0,o:[2,4,8],type:[We,Qe,Ze]},e[M]={e:M,r:!0,t:!0,o:[3,6,12,2],type:[We,Qe,Ze,Je]},e[z]={e:z,r:!0,t:!0,o:[4,8,16,2,2],type:[We,Qe,Ze,qe,$e]},e[V]={e:ur,r:!0,t:!0,o:1,type:We},e[W]={e:ur,r:!1,t:!0,o:1,type:Ve},e[Y]={e:ur,r:!1,t:!0,o:[4,2],type:[Ze,Qe]},e[j]={e:ur,r:!1,t:!1,o:4,type:Ze},e[H]={e:fr,r:!0,t:!1,o:1,type:We},e[K]={e:fr,r:!0,t:!1,o:1,type:Ve},e[ae]={e:fr,r:!0,t:!1,o:2,type:je},e[ie]={e:fr,r:!0,t:!1,o:2,type:Ye},e[ue]={e:fr,r:!0,t:!1,o:4,type:Ke},e[fe]={e:fr,r:!0,t:!1,o:4,type:He},e[Q]={e:ar,r:!0,t:!0,o:2,type:We},e[ee]={e:ar,r:!1,t:!0,o:2,type:Ve},e[re]={e:ar,r:!1,t:!0,o:[8,4],type:[Ze,Qe]},e[te]={e:ar,r:!1,t:!1,o:8,type:Ze},e[ne]={e:ir,r:!0,t:!1,o:2,type:We},e[oe]={e:ir,r:!0,t:!1,o:2,type:Ve},e[Z]={e:ir,r:!0,t:!1,o:4,type:je},e[q]={e:ir,r:!0,t:!1,o:4,type:Ye},e[$]={e:ir,r:!0,t:!1,o:8,type:Ke},e[J]={e:ir,r:!0,t:!1,o:8,type:He},e[le]={e:M,r:!0,t:!0,o:3,type:We},e[se]={e:M,r:!1,t:!0,o:3,type:We},e[ce]={e:M,r:!0,t:!0,o:[3,2],type:[We,Je]},e[me]={e:M,r:!1,t:!0,o:3,type:Ve},e[ye]={e:M,r:!1,t:!0,o:[12,6,4],type:[Ze,Qe,rr]},e[Ee]={e:M,r:!1,t:!0,o:[12,6,4],type:[Ze,Qe,tr]},e[be]={e:M,r:!1,t:!0,o:[12,6],type:[Ze,Qe]},e[pe]={e:M,r:!1,t:!1,o:12,type:Ze},e[de]={e:lr,r:!1,t:!1,o:3,type:We},e[Ae]={e:lr,r:!1,t:!1,o:3,type:Ve},e[xe]={e:lr,r:!1,t:!1,o:6,type:je},e[Te]={e:lr,r:!1,t:!1,o:6,type:Ye},e[ve]={e:lr,r:!1,t:!1,o:12,type:Ke},e[Re]={e:lr,r:!1,t:!1,o:12,type:He},e[Fe]={e:z,r:!0,t:!0,o:4,type:We},e[_e]={e:z,r:!0,t:!0,o:4,type:We},e[he]={e:z,r:!1,t:!0,o:4,type:Ve},e[ge]={e:z,r:!0,t:!0,o:[4,2,4],type:[We,$e,er]},e[Pe]={e:z,r:!0,t:!0,o:[4,2],type:[We,qe]},e[Ue]={e:z,r:!0,t:!0,
o:4,type:er},e[we]={e:z,r:!1,t:!0,o:[16,8],type:[Ze,Qe]},e[Be]={e:z,r:!1,t:!1,o:16,type:Ze},e[Ie]={e:sr,r:!0,t:!1,o:4,type:We},e[Se]={e:sr,r:!0,t:!1,o:4,type:Ve},e[Ce]={e:sr,r:!0,t:!1,o:4,type:er},e[Le]={e:sr,r:!0,t:!1,o:8,type:je},e[Oe]={e:sr,r:!0,t:!1,o:8,type:Ye},e[Ne]={e:sr,r:!0,t:!1,o:16,type:He},e[Me]={e:sr,r:!0,t:!1,o:16,type:Ke},e[ze]={e:X,r:!0,t:!1,o:[2,4],type:[je,Ke]},e[De]={e:X,r:!0,t:!1,o:4,type:Ke},e[Ge]={e:X,r:!0,t:!1,o:4,type:Ze},e[ke]={e:k,r:!0,t:!1,o:4,type:or},e[Xe]={e:k,r:!0,t:!1,o:4,type:nr},Object.keys(e).forEach(function(r){var t=e[r];if(t.bytesPerElementMap={},Array.isArray(t.o))t.o.forEach(function(e,r){var n=t.type[r];t.bytesPerElementMap[n]=e});else{var n=t.type;t.bytesPerElementMap[n]=t.o}})}();var Er=function(){function e(e){if(!r){r={};for(var t in e)"number"==typeof e[t]&&(r[e[t]]=t)}}var r;return function(t,n){return e(t),r[n]||"0x"+n.toString(16)}}(),br={},pr=function(){var e=document.createElement("canvas").getContext("2d");return function(r,t,o,a){a=a||L.textureOptions;var i=a.target||r.TEXTURE_2D,u=o.width,f=o.height,c=a.internalFormat||a.format||r.RGBA,y=n(c),E=a.format||y.format,b=a.type||y.type;if(l(r,a),r.bindTexture(i,t),i===r.TEXTURE_CUBE_MAP){var p,A,T=o.width,v=o.height;if(T/6===v)p=v,A=[0,0,1,0,2,0,3,0,4,0,5,0];else if(v/6===T)p=T,A=[0,0,0,1,0,2,0,3,0,4,0,5];else if(T/3===v/2)p=T/3,A=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(T/2!==v/3)throw"can't figure out cube map from element: "+(o.src?o.src:o.nodeName);p=T/2,A=[0,0,1,0,0,1,1,1,0,2,1,2]}e.canvas.width=p,e.canvas.height=p,u=p,f=p,x(r,a).forEach(function(t){var n=A[2*t.ndx+0]*p,a=A[2*t.ndx+1]*p;e.drawImage(o,n,a,p,p,0,0,p,p),r.texImage2D(t.face,0,c,E,b,e.canvas)}),e.canvas.width=1,e.canvas.height=1}else if(i===r.TEXTURE_3D){var R=Math.min(o.width,o.height),F=Math.max(o.width,o.height),_=F/R;if(_%1!==0)throw"can not compute 3D dimensions of element";var h=o.width===F?1:0,g=o.height===F?1:0;r.texImage3D(i,0,c,R,R,R,0,E,b,null),e.canvas.width=R,e.canvas.height=R;for(var P=0;P<_;++P){var U=P*R*h,w=P*R*g,B=R,I=R,S=0,C=0,O=R,N=R;e.drawImage(o,U,w,B,I,S,C,O,N),r.texSubImage3D(i,0,0,0,P,E,b,e.canvas)}e.canvas.width=0,e.canvas.height=0}else r.texImage2D(i,0,c,E,b,o);s(r,a),a.auto!==!1&&d(r,t,a,u,f,c,b),m(r,t,a)}}();return{setDefaults_:f,createSampler:E,createSamplers:b,setSamplerParameters:y,createTexture:B,setEmptyTexture:w,setTextureFromArray:U,loadTextureFromUrl:F,setTextureFromElement:pr,setTextureFilteringForSize:d,setTextureParameters:m,setDefaultTextureColor:u,createTextures:C,resizeTexture:I,getNumComponentsForFormat:h,getBytesPerElementForInternalFormat:t}}.apply(r,n),!(void 0!==o&&(e.exports=o))},function(e,r,t){var n,o;n=[t(6)],o=function(e){"use strict";function r(r,t,n){var o=r.createVertexArray();return r.bindVertexArray(o),t.length||(t=[t]),t.forEach(function(t){e.setBuffersAndAttributes(r,t,n)}),r.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:o}}function t(r,t,n,o){var a=r.createVertexArray();return r.bindVertexArray(a),e.setAttributes(t,n),o&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,o),r.bindVertexArray(null),a}function n(e,r,n){return t(e,r.attribSetters||r,n.attribs,n.indices)}return{createVertexArrayInfo:r,createVAOAndSetAttributes:t,createVAOFromBufferInfo:n}}.apply(r,n),!(void 0!==o&&(e.exports=o))}])});